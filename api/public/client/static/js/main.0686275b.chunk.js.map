{"version":3,"sources":["components/Menu.js","helpers/index.js","components/MapPage.js","components/SimpleGraph.js","components/ListPage.js","components/HomePage.js","components/EditPage.js","components/BaseContainer.js","App.js","serviceWorker.js","index.js"],"names":["require","Menu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","react_default","a","createElement","MenuContainer","MenuButton","onClick","navigate","ExitButton","src","close","Component","styled","div","_templateObject","img","_templateObject2","_templateObject3","apiUrl","mapStyles","google","window","MapPage","mapContainerRef","React","createRef","markers","lines","infoWindows","map","maps","Map","current","zoom","center","lat","lng","streetViewControl","fullscreenControl","mapTypeControl","styles","prevPros","length","entries","icon","url","scaledSize","height","width","origin","x","y","anchor","labelOrigin","Point","latlngbounds","LatLngBounds","forEach","user","e","marker","Marker","position","cityLocation","label","color","fontSize","text","emoji","infoWindow","InfoWindow","content","city","musician","year","addListener","open","push","extend","slice","index","Polyline","path","strokeColor","strokeOpacity","strokeWeight","l","setMap","fitBounds","MapContainer","ref","MapPage_templateObject","visible","nodes","links","oldNodes","svg","node","link","ListPage","user_emoji","Math","floor","random","location","hash","mcmmId","axios","get","then","response","setState","data","docs","catch","console","log","_this3","i","ListItem","key","EditLink","editEntry","List","href","components_MapPage","span","ListPage_templateObject","ul","ListPage_templateObject2","li","ListPage_templateObject3","_templateObject4","d3","scaleExtent","on","zoomed","force","gravity","distance","charge","size","attr","d","source","target","SimpleGraph","_rootNode","element","loadData","append","selectAll","n","enterLinks","enterNodes","applyStyling","start","callback","error","json","kv","_","each","maintainNodePositions","enter","drag","insert","style","translate","scale","percentColors","pct","r","g","b","getNodeColor","lower","upper","range","rangePct","pctLower","pctUpper","join","getColorForPercentage","popularity","getLinkColor","select","type","filter","targetId","id","popPercent","radius","name","sort","active","String","prototype","capitalize","replace","toUpperCase","HomePage","float","marginLeft","components_SimpleGraph","EditPage","handleSubmit","event","_id","put","parseInt","note","user_id","changed","post","handleDelete","confirm","delete","back","handleInputChange","_this$setState","value","isNaN","defineProperty","entry","musicians","cities","Label","Autocomplete_default","items","m","getItemValue","item","shouldItemRender","toLowerCase","indexOf","renderItem","highlighted","backgroundColor","onChange","onSelect","val","wrapperStyle","display","inputProps","autocompleteInputStyle","c","Input","autoComplete","Textarea","Button","EditPage_templateObject","boxSizing","input","EditPage_templateObject2","textarea","EditPage_templateObject3","EditPage_templateObject4","uuidv1","BaseContainer","toggleMenu","menuOpen","page","arguments","undefined","navStack","currentPage","currentEntry","history","pushState","document","title","pathname","previousPage","pop","examples","localStorage","getItem","substr","setItem","mainContent","home","components_HomePage","list","components_ListPage","edit","components_EditPage","components_Menu","MainContent","BaseContainer_MenuButton","AddButton","BaseContainer_ExitButton","BaseContainer_templateObject","BaseContainer_templateObject2","BaseContainer_templateObject3","BaseContainer_templateObject4","App","components_BaseContainer","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0686275b.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <MenuContainer>\n        <MenuButton onClick={()=>this.props.navigate(\"home\")}>home</MenuButton>\n        <MenuButton onClick={()=>this.props.navigate(\"list\")}>my entries</MenuButton>\n        <ExitButton src=\"/images/close.png\"  onClick={this.props.close}/>\n      </MenuContainer>\n    );\n  }\n}\n\nexport default Menu;\n\nconst MenuButton = styled.div`\n  :hover {cursor: pointer};\n  margin-bottom: 10px;\n`\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n\nconst MenuContainer = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n","export const apiUrl = \"/api\"\n","import React, { Component } from 'react';\n\nimport styled from 'styled-components'\n\nconst mapStyles = require('./GoogleMapStyles.json')\nconst google = window.google;\n\nclass MapPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mapContainerRef = React.createRef();\n    this.markers = [];\n    this.lines = [];\n    this.infoWindows = [];\n  } \n\n  componentDidMount() {\n    this.map = new google.maps.Map(this.mapContainerRef.current, {\n      zoom: 1,\n      center: {lat: 0, lng: 0},\n      streetViewControl: false, \n      fullscreenControl: false, \n      mapTypeControl: false,\n      styles: mapStyles // change default map styles\n    });\n  } \n\n  componentDidUpdate(prevPros) {\n    if(!this.markers.length && this.props.entries) {\n      const icon = {\n        url: \"/images/blank.png\", // url\n        scaledSize: {height: 30, width: 30}, // scaled size\n        origin: {x:0, y:0}, // origin\n        anchor: {x:12.5, y:12.5}, // anchor\n        labelOrigin: new google.maps.Point(12.5, 12.5)\n      };\n      var latlngbounds = new window.google.maps.LatLngBounds();\n\n      this.props.entries.forEach(user=>{      \n\n        // add markers for user\n        user.entries.forEach((e)=>{\n          let marker = new google.maps.Marker({\n              position: e.cityLocation,\n              icon: icon,\n              label: {\n                color: \"#fff\",\n                fontSize: \"14px\",\n                text: user.emoji,\n              },\n              map: this.map,\n          })\n          \n          let infoWindow = new google.maps.InfoWindow({\n            content: e.city + \" \" + e.musician + \" \" + e.year\n          });\n\n          marker.addListener('click', function() {\n            infoWindow.open(this.map, marker);\n          });\n\n          this.markers.push(marker)\n          this.infoWindows.push(infoWindow);\n          latlngbounds.extend(e.cityLocation);\n        })\n        \n        // add lines for user\n        user.entries.slice(0, -1).forEach((e, index)=>\n          this.lines.push(\n            new google.maps.Polyline({\n              path: [user.entries[index].cityLocation, user.entries[index+1].cityLocation],\n              //geodesic: true,\n              strokeColor: '#aaa',\n              strokeOpacity: 1.0,\n              strokeWeight: 1\n            })\n          )\n        );\n\n      });\n      this.lines.forEach(l=>l.setMap(this.map));\n      this.map.fitBounds(latlngbounds);\n    }\n  }\n\n  render() {\n    return (\n      <MapContainer ref={this.mapContainerRef} />\n    )\n  }\n}\n\nexport default MapPage;\n\nconst MapContainer = styled.div`\n  display: flex;\n  width: 100%; \n  height: 400px;\n  box-sizing: border-box;\n  flex-direction: column;\n  visibility: ${props => props.visible != false ? \"visible\" : \"hidden\"}\n`\n","import React, { Component } from 'react';\n\nimport { apiUrl } from '../helpers'\n\nimport _ from \"underscore\";\nimport * as d3 from 'd3'\n\n/* build the network */\n\nvar width = 500,\n    height = 400;\n\nvar zoom = d3.behavior.zoom().scaleExtent([-5, 12]).on(\"zoom\", zoomed);\n\nvar nodes, links, oldNodes, matchIndex, // data\n  svg, node, link, // d3 selections\n  force = d3.layout.force()\n  .gravity(0.05)\n  .distance(170)\n  .charge(-100)\n  .size([width, height]); \n\n\nforce.on(\"tick\", function(e) {\n  link.attr(\"x1\", function(d) { return d.source.x; })\n      .attr(\"y1\", function(d) { return d.source.y; })\n      .attr(\"x2\", function(d) { return d.target.x; })\n      .attr(\"y2\", function(d) { return d.target.y; });\n\n  node.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n});\n\nclass SimpleGraph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entries: []\n    }\n    this._rootNode = React.createRef();\n  }\n\n  componentDidMount() {\n\n    // D3 Code to create the chart\n    // using this._rootNode as container\n    renderGraph(this._rootNode.current);\n  }\n\n  shouldComponentUpdate() {\n        // Prevents component re-rendering\n        return false;\n    }\n\n  render() {\n    return <div ref={this._rootNode} />;\n  }\n}\n\nexport default SimpleGraph;\n\n\nfunction loadData(callback) {\n  d3.json(apiUrl + \"/graph_data/\", function(error, json) {\n    if(error)Â {\n      console.log(error);\n    }\n    console.log(json);\n    if(!json) return;\n\n    oldNodes = nodes;\n    nodes = json.nodes;\n    links = json.links;\n    maintainNodePositions();\n    callback();\n  });\n}\n\nfunction renderGraph(element) {\n  loadData(()=>{\n    force.nodes(nodes).links(links);\n    svg = d3.select(element).append(\"svg\")\n      .attr(\"width\", \"100%\")\n      .attr(\"height\", height)\n              .append(\"g\");\n    var l = svg.selectAll(\".link\")\n      .data(links, function(d) {return d.source + \",\" + d.target});\n    var n = svg.selectAll(\".node\")\n      .data(nodes, function(d) {return d.key});\n    enterLinks(l);\n    enterNodes(n);\n    node = svg.selectAll(\".node\"); \n    link = svg.selectAll(\".link\");\n    applyStyling();\n    force.start();\n  });\n}\n\nfunction update() {\n  loadData(()=>{\n    force.nodes(nodes).links(links);\n    var n = svg.selectAll(\".node\")\n      .data(nodes, function(d) {return d.key});\n    var l = svg.selectAll(\".link\")\n      .data(links, function(d) {return d.source + \",\" + d.target});\n    enterNodes(n);\n    exitNodes(n);\n    enterLinks(l);\n    exitLinks(l);\n    node = svg.selectAll(\".node\");\n    link = svg.selectAll(\".link\");\n    applyStyling();\n    force.start();\n  });\n}\n\nfunction enterNodes(n) {\n  var g = n.enter().append(\"g\")\n    .attr(\"class\", \"node element\")\n    .call(force.drag);\n\n  /*g.append(\"svg:circle\")\n      .style(\"opacity\", 0.5);*/\n\n  /*g.append(\"svg:image\")\n    .attr('x', -10)\n    .attr('y', -10)\n    .attr('width', 20)\n    .attr('height', 20)\n    .attr(\"xlink:href\", \"/images/dot.png\")*/\n\n  g.append(\"text\")\n      .attr(\"dx\", -5)\n      .attr(\"dy\", \".25em\");        \n}\n\nfunction enterLinks(l) {\n  l.enter().insert(\"line\", \".node\")\n    .attr(\"class\", \"link element\")\n    .style(\"opacity\", 1.0);\n}\n\nfunction exitNodes(n) {\n  n.exit().remove();\n}\n\nfunction exitLinks(l) {\n  l.exit().remove();\n}\n\nfunction maintainNodePositions() {\n  var kv = {};\n  _.each(oldNodes, function(d) {\n    kv[d.key] = d;\n  });\n  _.each(nodes, function(d) {\n    if (kv[d.key]) {\n      // if the node already exists, maintain current position\n      d.x = kv[d.key].x;\n      d.y = kv[d.key].y;\n    } else {\n      // else assign it a random position near the center\n      d.x = width / 2 + _.random(-150, 150);\n      d.y = height / 2 + _.random(-25, 25);\n    }\n  });\n}\n\n/* zoom and pan */\nfunction zoomed() {\n  svg.attr(\"transform\",\n      \"translate(\" + zoom.translate() + \")\" +\n      \"scale(\" + zoom.scale() + \")\"\n  );\n}\n\nfunction interpolateZoom (translate, scale) {\n  var self = this;\n  return d3.transition().duration(350).tween(\"zoom\", function () {\n      var iTranslate = d3.interpolate(zoom.translate(), translate),\n          iScale = d3.interpolate(zoom.scale(), scale);\n      return function (t) {\n          zoom\n              .scale(iScale(t))\n              .translate(iTranslate(t));\n          zoomed();\n      };\n  });\n}\n\nfunction zoomButton(dir) {\n    var direction = 1,\n        factor = 0.2,\n        target_zoom = 1,\n        center = [width / 2, height / 2],\n        extent = zoom.scaleExtent(),\n        translate = zoom.translate(),\n        translate0 = [],\n        l = [],\n        view = {x: translate[0], y: translate[1], k: zoom.scale()};\n\n    direction = (dir === 'in') ? 1 : -1;\n    target_zoom = zoom.scale() * (1 + factor * direction);\n\n    if (target_zoom < extent[0] || target_zoom > extent[1]) { return false; }\n\n    translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];      \n    view.k = target_zoom;\n    l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];\n    view.x += center[0] - l[0];\n    view.y += center[1] - l[1];\n\n    interpolateZoom([view.x, view.y], view.k);\n}\n\nfunction panButton(dir) {\n  var step = 50;\n  var xOffset = (dir == \"right\" ? -step : 0) + (dir == \"left\" ? step : 0);\n  var yOffset = (dir == \"up\" ? step : 0) + (dir == \"down\" ? -step : 0);  \n    \n  var center = [width / 2, height / 2],\n      translate = zoom.translate(),\n      translate0 = [],\n      l = [],\n      view = {x: translate[0], y: translate[1], k: zoom.scale()};\n\n  translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];\n  l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];\n  view.x += center[0] - l[0] + xOffset;\n  view.y += center[1] - l[1] + yOffset;\n\n  interpolateZoom([view.x, view.y], view.k);\n}\n\n/* color management */\nvar percentColors = [\n  { pct: 0.0, color: { r: 0x00, g: 0x86, b: 0xcb } },\n  { pct: 0.8, color: { r: 0xe7, g: 0x37, b: 0x2A } },\n  { pct: 1.0, color: { r: 0xff, g: 0xcc, b: 0x00 } } ];\n\nvar getColorForPercentage = function(pct) {\n    if(pct > 1) pct = 1;\n    for (var i = 1; i < percentColors.length - 1; i++) {\n        if (pct < percentColors[i].pct) {\n            break;\n        }\n    }\n    var lower = percentColors[i - 1];\n    var upper = percentColors[i];\n    var range = upper.pct - lower.pct;\n    var rangePct = (pct - lower.pct) / range;\n    var pctLower = 1 - rangePct;\n    var pctUpper = rangePct;\n    var color = {\n        r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\n        g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\n        b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\n    };\n    return 'rgb(' + [color.r, color.g, color.b].join(',') + ')';\n    // or output as hex if preferred\n}  \n\nvar getNodeColor = function(node) {\n  getColorForPercentage(node.popularity / 7.0);\n}\n\nvar getLinkColor = function(link) {\n  return \"#ccc\";\n}\n\nfunction applyStyling() {\n\n    link.style(\"stroke\", (d)=>{return getLinkColor(d)} )\n    .attr(\"stroke-width\", function(d) { return 1 })\n\n    node.select(\"circle\")\n      .attr(\"r\", function(d) {      \n         if(d.type == \"player\") return 7;\n\n         d.popularity = links.filter((l)=> {\n           return l.targetId == d.id\n         }).length;\n         var minRadius = 10;\n         var maxRadius = 20;\n         var popPercent = d.popularity / (0.01 * nodes.length);\n         if(popPercent > 1) popPercent = 1\n         var radius = popPercent * maxRadius;\n         if(radius < minRadius) radius = minRadius;\n         return radius;\n      })\n      .style(\"fill\", (d)=>{return getNodeColor(d)} );\n\n    node.select(\"text\")\n      .style(\"fill\", (d)=>{return getNodeColor(d)})\n      .text(function(d) { console.log(d.name); return d.name })\n      .style(\"font-size\", \"14px\");      \n\n    svg.selectAll(\".element\").sort(function (a, b) { // sort active everything down\n      if (a.active == b.active && a.type == b.type) return 0;\n      if (a.active == b.active && !a.type && b.type) return -1;\n      if (!a.active && b.active) return -1;       \n      else return 1;                              \n    });\n}\n\n/* text */\nString.prototype.capitalize = function() {\n  return this.replace(/(?:^|\\s)\\S/g, function(a) { return a.toUpperCase(); });\n};\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport MapPage from './MapPage.js';\n\nclass ListPage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        entries: []\n    }\n\n    const emoji = [\"ðŸ¶\", \"ðŸ±\", \"ðŸ­\", \"ðŸ¹\", \"ðŸ°\", \"ðŸ¦Š\", \"ðŸ¦\"];\n    this.user_emoji = emoji[Math.floor(Math.random() * emoji.length)];\n  }\n\n  async componentDidMount() {\n    window.location.hash = this.props.mcmmId;\n\n    axios.get(apiUrl + \"/entry_by_user/\" + this.props.mcmmId + \"/\")\n    .then((response)=> {\n      this.setState({ entries: response.data.docs})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  render() {\n\n                \n    const entries = this.state.entries.map((e, i)=>\n      <ListItem key={i}>\n        {this.user_emoji} {e.musician} {e.city} {e.year} <EditLink onClick={()=>{this.props.editEntry(e)}}>[edit]</EditLink>\n      </ListItem>);\n    return (\n      <div>\n        <h1>my entries</h1>\n        <List>{entries}</List>\n        <p>This is your secret edit link: <a href={\"#\"+this.props.mcmmId}>{\"#\"+this.props.mcmmId}</a></p>\n        <p>Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries.</p>\n      \n        <MapPage entries={[{emoji: this.user_emoji, entries: this.state.entries}]}/>\n      </div>\n    );\n  }\n}\n\nexport default ListPage;\n\nconst EditLink = styled.span`\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n`\n\nconst List = styled.ul`\n  padding-left: 0px;\n`\nconst ListItem = styled.li`\n  list-style: none;\n  margin-left: 0px;\n`\n\nconst Dot = styled.span`\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n`","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport SimpleGraph from './SimpleGraph.js';\nimport MapPage from './MapPage.js';\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        data: []\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entries_by_users/\")\n    .then((response)=> {\n      console.log(response.data);\n      this.setState({ data: response.data})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n  \n\n  render() {\n    return (\n      <div>\n        <h1>home page</h1>\n        <div style={{width: 500, float: \"left\"}}>\n          <MapPage entries={this.state.data}/>\n        </div>\n        <div style={{width: 500, float: \"left\", marginLeft: 20}}>\n          <SimpleGraph/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport ReactAutocomplete from 'react-autocomplete';\n\nimport styled from 'styled-components'\n\nclass EditPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musician: this.props.entry ? this.props.entry.musician : \"\",\n      city: this.props.entry ? this.props.entry.city : \"\",\n      year: this.props.entry ? this.props.entry.year : \"\",\n      note: this.props.entry ? this.props.entry.note : \"\",\n      _id: this.props.entry ? this.props.entry._id : null,\n      musicians: [],\n      cities: [],\n      changed: false\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entry_uniques/\")\n    .then((response)=> {\n      console.log(response);\n      this.setState({musicians: response.data.musicians})    \n      this.setState({cities: response.data.cities})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  handleSubmit = (event)=> {\n    console.log(this.state);\n\n    if(!this.state._id) {\n      axios.post(apiUrl + '/entry', {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n    \n    } else {\n\n      axios.put(apiUrl + '/entry/' + this.state._id, {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n  }\n\n  handleDelete = () => {\n\n    if(window.confirm(\"really?\")) {\n        axios.delete(apiUrl + '/entry/' + this.state._id, {        \n      })\n      .then((response)=> {\n        console.log(response);\n        this.props.back();\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n\n  }\n\n  handleInputChange = (event)=> {\n    const target = event.target;\n    const name = target.name;\n    const value = name != \"year\" || (name == \"year\" && !isNaN(target.value)) ? target.value : this.state.year;\n\n    this.setState({\n      [name]: value,\n      changed: true\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>{this.state._id ? \"update entry\" : \"new entry\"}</h1>\n        <form>\n          <Label>musician/composer/band</Label> \n          \n          <ReactAutocomplete\n            items={this.state.musicians.map((m)=>{return {value: m}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.musician}\n            onChange={(e) => this.setState({musician: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({musician: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>city</Label> \n          \n          <ReactAutocomplete\n            items={this.state.cities.map((c)=>{return {value: c}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.city}\n            onChange={(e) => this.setState({city: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({city: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>year</Label>\n          <Input autoComplete=\"off\" type=\"text\" name=\"year\" value={this.state.year} onChange={this.handleInputChange}/>\n          <br/>\n          <Label>note</Label>\n          <Textarea name=\"note\" value={this.state.note} onChange={this.handleInputChange}/>\n          <br/>\n          {this.state.changed && <Button onClick={this.handleSubmit}>save</Button>}\n          {this.state._id && <Button onClick={this.handleDelete}>delete entry</Button>}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EditPage;\n\nconst Label = styled.label`\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n`\n\nconst autocompleteInputStyle = {width: \"100%\", height: \"2em\", fontSize: \"200%\", boxSizing: \"border-box\"};\n\nconst Input = styled.input`\n  font-size: 200%;\n  text-align: left;\n  width: 100%;\n  height: 2em;\n  box-sizing: border-box;\n`\n\nconst Textarea = styled.textarea`\n  width: 100%;\n  height: 100px;\n  padding: 10px;\n  font-size: 150%;\n  box-sizing: border-box;\n`\n\nconst Button = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n`","import React, { Component } from 'react';\n\nimport Menu from './Menu.js';\nimport ListPage from './ListPage.js';\nimport HomePage from './HomePage.js';\nimport EditPage from './EditPage.js';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass BaseContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      examples: [],\n      menuOpen: false,\n      currentPage: \"home\",\n      mcmmId: null,\n      navStack: []\n    }\n  }\n\n  componentDidMount() {\n    let hash = window.location.hash;\n    let mcmmId = localStorage.getItem('mcmmId');  \n    console.log(mcmmId);\n    if(hash) {\n      mcmmId = hash.substr(1);\n      this.setState({\n        currentPage: \"list\",\n        mcmmId: mcmmId,\n        navStack: [\"home\"]\n      })\n    }\n    if(!mcmmId) {\n      mcmmId = uuidv1();\n    }\n    this.setState({mcmmId: mcmmId});  \n    localStorage.setItem('mcmmId', mcmmId);    \n  }\n\n  toggleMenu = ()=>{\n    this.setState({menuOpen: !this.state.menuOpen})\n  }\n\n  navigate = (page, entry, noSave=false)=>{\n    if(!noSave) {\n      let navStack = this.state.navStack;\n      navStack.push(this.state.currentPage);\n      console.log(navStack);\n      this.setState({navStack});\n    }\n    this.setState({\n      menuOpen: false,\n      currentPage: page,\n      currentEntry: entry\n    });\n    if(page != \"list\") {\n      window.history.pushState(\"\", document.title, window.location.pathname);\n    }\n  }\n\n  back = () => {\n    let navStack = this.state.navStack;\n    let previousPage = navStack.pop();\n    this.setState({navStack});\n    this.navigate(previousPage, this.state.entry, true);\n  }\n\n  render() {\n    const pages = {\n      \"home\": <HomePage/>,\n      \"list\": <ListPage mcmmId={this.state.mcmmId} editEntry={(entry)=>{this.navigate(\"edit\", entry)}}/>,\n      \"edit\": <EditPage mcmmId={this.state.mcmmId} back={this.back} entry={this.state.currentEntry}/>\n    }\n    let mainContent = pages[this.state.currentPage];\n    \n    return (\n      this.state.menuOpen ? <Menu close={this.toggleMenu} navigate={this.navigate}/> : \n      <MainContent>\n        <MenuButton onClick={this.toggleMenu} src=\"images/menu.png\"/>\n        {mainContent}\n        {(this.state.currentPage == \"home\" || this.state.currentPage == \"list\") && <AddButton onClick={()=>this.navigate(\"edit\")}>add</AddButton>}\n        {this.state.currentPage != \"home\" && <ExitButton src=\"/images/close.png\" onClick={this.back}/>}\n      </MainContent>\n    );\n  }\n}\n\nexport default BaseContainer;\n\nconst MenuButton = styled.img`\n  position: absolute;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst MainContent = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n\nconst AddButton = styled.div`\n  position: absolute;\n  z-index: 100;\n  right: 20px;\n  bottom: 20px;\n  border: 1px solid black;\n  background-color: white;\n  padding: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n","import React from 'react';\nimport BaseContainer from './components/BaseContainer.js'\n\nconst App = () => <BaseContainer/>\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}