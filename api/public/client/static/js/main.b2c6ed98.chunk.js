(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,n){e.exports=n(92)},53:function(e,t,n){},77:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),o=n.n(i),s=(n(53),n(2)),c=n(4),l=n(5),u=n(7),m=n(6),p=n(11),h=n(8),f=(n(54),n(1));function d(){var e=Object(s.a)(["\n  padding: 4rem 1rem 1rem 2rem;\n"]);return d=function(){return e},e}function y(){var e=Object(s.a)(["\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n"]);return y=function(){return e},e}function b(){var e=Object(s.a)(["\n  margin-bottom: 10px;\n  &:hover {cursor: pointer};\n"]);return b=function(){return e},e}n(24);var g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O,null,r.a.createElement(v,{onClick:this.props.reset},"home"),r.a.createElement(v,{onClick:function(){return e.props.navigate("list")}},"my entries"),r.a.createElement(v,{onClick:function(){return e.props.navigate("scan")}},"scanner"),r.a.createElement(k,{src:"/images/close.png",onClick:this.props.close}))}}]),t}(a.Component),v=f.b.li(b()),k=f.b.img(y()),O=f.b.ul(d()),x=n(13),w=n.n(x),E=n(17),j=n(9),F=n.n(j),T="/api";function S(){var e=Object(s.a)(["\n  width: 100%; \n  height: 100%;\n  visibility: ","\n"]);return S=function(){return e},e}var C=n(77),I=window.google,_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).mapContainerRef=r.a.createRef(),n.markers=[],n.lines=[],n.infoWindows=[],n.state={entries:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n.drawMap=n.drawMap.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetchData",value:function(){var e=this,t={};this.props.musicianFilter&&(t.musician=this.props.musicianFilter),this.props.userFilter&&this.props.userFilter.length>0&&(t.userIds=JSON.stringify(this.props.userFilter)),F.a.get(T+"/map_entries/",{params:t}).then(function(t){console.log(t),e.setState({entries:t.data},e.drawMap)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchData(),this.map=new I.maps.Map(this.mapContainerRef.current,{zoom:1,center:{lat:0,lng:0},streetViewControl:!1,fullscreenControl:!1,mapTypeControl:!1,zoomControl:!1,styles:C})}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter===e.musicianFilter&&this.props.userFilter===e.userFilter||(this.markers.forEach(function(e){e.setMap(null)}),this.markers=[],this.entries=[],this.fetchData())}},{key:"drawMap",value:function(){var e=this,t={url:"/images/marker.svg",scaledSize:{height:30,width:30},origin:{x:0,y:0},anchor:{x:12.5,y:12.5},labelOrigin:new I.maps.Point(12.5,12.5)},n=new window.google.maps.LatLngBounds;Object.keys(this.state.entries).forEach(function(a){var r=e.state.entries[a][0],i=new I.maps.Marker({position:r.cityLocation,icon:t,map:e.map}),o=r.city+"<br>";e.state.entries[a].forEach(function(e){o+=e.musician+" "+e.year+"<br>"});var s=new I.maps.InfoWindow({content:o});i.addListener("click",function(){s.open(this.map,i)}),e.markers.push(i),e.infoWindows.push(s),n.extend(r.cityLocation)}),this.lines.forEach(function(t){return t.setMap(e.map)}),this.map.fitBounds(n);var a=this.map.getZoom();this.map.setZoom(a<2?2:a)}},{key:"render",value:function(){return r.a.createElement(D,{ref:this.mapContainerRef})}}]),t}(a.Component),D=f.b.div(S(),function(e){return 0!=e.visible?"visible":"hidden"});function M(){var e=Object(s.a)(["\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n"]);return M=function(){return e},e}function z(){var e=Object(s.a)(["\n  list-style: none;\n  margin-left: 0px;\n"]);return z=function(){return e},e}function L(){var e=Object(s.a)(["\n  padding-left: 0px;\n"]);return L=function(){return e},e}function P(){var e=Object(s.a)(["\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n"]);return P=function(){return e},e}function U(){var e=Object(s.a)(["\n  padding: 4rem 1rem 2rem 1rem;\n"]);return U=function(){return e},e}var N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={entries:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(w.a.mark(function e(){var t=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.hash=this.props.mcmmId,F.a.get(T+"/entry_by_user/"+this.props.mcmmId+"/").then(function(e){t.setState({entries:e.data.docs})}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.entries.map(function(t,n){return r.a.createElement(A,{key:n},t.musician," ",t.city," ",t.year," ",r.a.createElement(B,{onClick:function(){e.props.editEntry(t)}},"[edit]"))});return r.a.createElement(R,null,r.a.createElement("h1",null,"my entries"),r.a.createElement(W,null,t),r.a.createElement("p",null,"This is your secret edit link: ",r.a.createElement("a",{href:"#"+this.props.mcmmId},"#"+this.props.mcmmId)),r.a.createElement("p",null,"Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries."))}}]),t}(a.Component),R=f.b.div(U()),B=f.b.span(P()),W=f.b.ul(L()),A=f.b.li(z()),Y=(f.b.span(M()),n(44)),J=n(22);function V(){var e=Object(s.a)(['\n  position: fixed;\n  bottom:0;\n  left:0;\n  right: 0;\n  padding: 1rem;\n  box-sizing: border-box;\n\n  display: flex;\n  width: 100%;\n\n  li {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    height: 6em;\n  }\n\n  li .year_top {\n    height: 3vh;\n    /* background: red; */\n  }\n\n  li .year_top img {\n    width: auto;\n    height: 1vh;\n    /* background: yellow; */\n  }\n\n  li .year_middle {\n    height: 3vh;\n  }\n\n  li .year_middle:before {\n    content: "";\n    border: solid 1px black;\n    border-width: 0 0 0 1px;\n    position: relative;\n    left: calc(50% - 1px);\n  }\n\n  li .year_bottom {\n    height: 3vh;\n    /* background: green; */\n  }\n\n  li .year_bottom span {\n    width: calc(1em + 20%);\n    transform: rotate(-90deg) translateX(-100%);\n    overflow: visible;\n    /* background: red; */\n  }\n\n  li > * {\n    position: relative;\n  }\n\n  li > * > * {\n    position: absolute;\n  }\n']);return V=function(){return e},e}var G=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={data:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetchData",value:function(){var e=this;F.a.get(T+"/year_data/"+(this.props.musicianFilter?"?musician="+this.props.musicianFilter:"")).then(function(t){console.log("yearly data loaded"),e.setState({data:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter!==e.musicianFilter&&this.fetchData()}},{key:"renderYear",value:function(e,t){return r.a.createElement("li",{key:e},r.a.createElement("span",{className:"year_top"},t>0?r.a.createElement("img",{style:{transform:"scale("+t+")"},alt:e,src:"/images/marker.svg"}):null),r.a.createElement("span",{className:"year_middle"}),r.a.createElement("span",{className:"year_bottom"},r.a.createElement("span",null,t>0?e:null)))}},{key:"render",value:function(){var e=this,t=this.state.data;if(!t||0===t.length)return null;t.unshift.apply(t,Object(J.a)(Array.from(Array(4),function(e,n){return{year:n+(t[0].year-4),amount:0}})));t.push.apply(t,Object(J.a)(Array.from(Array(1),function(e,n){return{year:n+(t[t.length-1].year+1),amount:0}})));var n=t[0].year,a=t.map(function(t){return e.renderYear(t.year,t.amount)});return r.a.createElement(H,{start:n},a)}}]),t}(a.PureComponent),H=f.b.ol(V());function Z(){var e=Object(s.a)(["\n  &:hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]);return Z=function(){return e},e}function q(){var e=Object(s.a)(["\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 33vw;\n  padding: 1rem 1rem 0 0;\n  box-sizing: border-box;\n\n  ul {\n    list-style-type: none;\n  } ;\n  li {\n    display: flex;\n    span:first-child {\n      width: 2em;\n    }\n    span:last-child {\n      flex: 1;\n      &:hover {\n        cursor: pointer;\n        text-decoration: underline;\n      }\n    }\n  }\n"]);return q=function(){return e},e}var X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={musicians:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;F.a.get(T+"/top_musicians/10/"+(this.props.musicianFilter?"?musician="+this.props.musicianFilter:"")).then(function(t){console.log(t.data),e.setState({musicians:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter!==e.musicianFilter&&this.fetchData()}},{key:"render",value:function(){var e=this,t=this.state.musicians.sort(function(e,t){return e.percent<t.percent?1:-1}).map(function(t,n){return r.a.createElement("li",{key:n,onClick:function(){return e.props.setMusicianFilter(t.name)}},r.a.createElement("span",null,t.percent,"%"),"\xa0",r.a.createElement("span",null,t.name,"\xa0(",t.count,")"))});return r.a.createElement($,null,this.props.musicianFilter&&r.a.createElement("p",null,"filter: ",this.props.musicianFilter,r.a.createElement(K,{onClick:function(){return e.props.setMusicianFilter(null)}},"clear")),r.a.createElement("ul",null,t))}}]),t}(a.Component),$=f.b.div(q()),K=f.b.span(Z());function Q(){var e=Object(s.a)(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n"]);return Q=function(){return e},e}function ee(){var e=Object(s.a)(["\n  min-height: 50px;\n"]);return ee=function(){return e},e}function te(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]);return te=function(){return e},e}var ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onResize=function(e,t){n.setState({showTopMusiciansList:e>600,showLineGraph:e>600})},n.state={musicianFilter:null,userFilter:[]},n.setMusicianFilter=n.setMusicianFilter.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setMusicianFilter",value:function(e){this.setState({musicianFilter:e,userFilter:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement(ae,null,this.props.userFilter.length>0&&r.a.createElement(re,null,r.a.createElement("span",null,"user filter on"),r.a.createElement(ie,{src:"/images/close.png",onClick:function(){return e.props.setUserFilter([])}})),r.a.createElement(_,{userFilter:this.props.userFilter,musicianFilter:this.state.musicianFilter}),this.state.showTopMusiciansList&&r.a.createElement(X,{setMusicianFilter:this.setMusicianFilter,musicianFilter:this.state.musicianFilter}),this.state.showLineGraph&&r.a.createElement(G,{musicianFilter:this.state.musicianFilter}),r.a.createElement(Y.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}))}}]),t}(a.Component),ae=f.b.div(te()),re=f.b.div(ee()),ie=f.b.img(Q()),oe=n(12),se=n(21),ce=n.n(se);function le(){var e=Object(s.a)(["\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n"]);return le=function(){return e},e}function ue(){var e=Object(s.a)(['\n  input, textarea {\n    display: block;\n    border:none;\n    width: 100%;\n    background-color: black;\n    color: white;\n    outline: none;\n    box-sizing: border-box;\n    padding: 0.5rem;\n  }\n\n  input {\n    font-size: 200%;\n    text-align: left;\n    height: 2em;\n    &[name="year"] {\n      width: auto;\n    }\n  }\n\n  textarea {\n    height: 100px;\n    font-size: 150%;\n  }\n']);return ue=function(){return e},e}function me(){var e=Object(s.a)(["\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n"]);return me=function(){return e},e}function pe(){var e=Object(s.a)(["\n  padding: 4rem 1rem 2rem 1rem;\n"]);return pe=function(){return e},e}var he=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){console.log(n.state),n.state._id?F.a.put(T+"/entry/"+n.state._id,{musician:n.state.musician,city:n.state.city,year:parseInt(n.state.year),note:n.state.note,user_id:n.props.mcmmId}).then(function(e){console.log(e),n.setState({_id:e.data._id,changed:!1})}).catch(function(e){console.log(e)}):F.a.post(T+"/entry",{musician:n.state.musician,city:n.state.city,year:parseInt(n.state.year),note:n.state.note,user_id:n.props.mcmmId}).then(function(e){console.log(e),n.setState({_id:e.data._id,changed:!1})}).catch(function(e){console.log(e)})},n.handleDelete=function(){window.confirm("really?")&&F.a.delete(T+"/entry/"+n.state._id,{}).then(function(e){console.log(e),n.props.back()}).catch(function(e){console.log(e)})},n.handleInputChange=function(e){var t,a=e.target,r=a.name,i="year"!==r||"year"===r&&!isNaN(a.value)?a.value:n.state.year;n.setState((t={},Object(oe.a)(t,r,i),Object(oe.a)(t,"changed",!0),t))},n.fixYear=function(e){var t=(new Date).getFullYear(),n=t-80;return e<n&&(e=n),e>t&&(e=t),e},n.state={musician:n.props.entry?n.props.entry.musician:"",city:n.props.entry?n.props.entry.city:"",year:n.props.entry?n.props.entry.year:"",note:n.props.entry?n.props.entry.note:"",_id:n.props.entry?n.props.entry._id:null,musicians:[],cities:[],changed:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(w.a.mark(function e(){var t=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(T+"/entry_uniques/").then(function(e){console.log(e),t.setState({musicians:e.data.musicians}),t.setState({cities:e.data.cities})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,r.a.createElement("h1",null,this.state._id?"update entry":"new entry"),r.a.createElement(be,null,r.a.createElement(de,null,"musician/composer/band"),r.a.createElement(ce.a,{items:this.state.musicians.map(function(e){return{value:e}}),getItemValue:function(e){return e.value},shouldItemRender:function(e,t){return e.value.toLowerCase().indexOf(t.toLowerCase())>-1},renderItem:function(e,t){return r.a.createElement("div",{key:e.value,style:{backgroundColor:t?"#eee":"transparent"}},e.value)},value:this.state.musician,onChange:function(t){return e.setState({musician:t.target.value,changed:!0})},onSelect:function(t){return e.setState({musician:t,changed:!0})},wrapperStyle:{display:"block"},inputProps:{style:ye}}),r.a.createElement("br",null),r.a.createElement(de,null,"city"),r.a.createElement(ce.a,{items:this.state.cities.map(function(e){return{value:e}}),getItemValue:function(e){return e.value},shouldItemRender:function(e,t){return e.value.toLowerCase().indexOf(t.toLowerCase())>-1},renderItem:function(e,t){return r.a.createElement("div",{key:e.value,style:{backgroundColor:t?"#eee":"transparent"}},e.value)},value:this.state.city,onChange:function(t){return e.setState({city:t.target.value,changed:!0})},onSelect:function(t){return e.setState({city:t,changed:!0})},wrapperStyle:{display:"block"},inputProps:{style:ye}}),r.a.createElement("br",null),r.a.createElement(de,null,"year"),r.a.createElement("input",{autoComplete:"off",size:"4",maxLength:"4",type:"text",name:"year",value:this.state.year,onChange:this.handleInputChange,onBlur:function(){return e.setState({year:e.fixYear(e.state.year)})}}),r.a.createElement("br",null),r.a.createElement(de,null,"note"),r.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.handleInputChange}),r.a.createElement("br",null),this.state.changed&&r.a.createElement(ge,{onClick:this.handleSubmit},"save"),this.state._id&&r.a.createElement(ge,{onClick:this.handleDelete},"delete entry")))}}]),t}(a.Component),fe=f.b.div(pe()),de=f.b.label(me()),ye={},be=f.b.form(ue()),ge=f.b.div(le()),ve=n(42),ke=n.n(ve),Oe=n(85),xe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleScan=function(e){e&&(n.setState({result:e}),n.props.setUserFilter([n.props.mcmmId,e]))},n.handleError=function(e){console.error(e)},n.state={result:"No result"},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"scanner"),r.a.createElement(Oe,{value:this.props.mcmmId}),r.a.createElement(ke.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),r.a.createElement("p",null,this.state.result))}}]),t}(a.Component);function we(){var e=Object(s.a)(["\n\n  @font-face {\n    font-family: NeutraText;\n    src:  url('/fonts/NeutraText-Bold.otf');\n    /*[unicode-range: <urange>#;]?\n    [font-variant: <font-variant>;]?\n    [font-feature-settings: normal|<feature-tag-value>#;]?\n    [font-stretch: <font-stretch>;]?\n    [font-weight: <weight>];\n    [font-style: <style>];*/\n  }\n\n  html, body, #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  body {\n    font-family: NeutraText, sans-serif;\n  }\n"]);return we=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n"]);return Ee=function(){return e},e}function je(){var e=Object(s.a)(["\n  position: fixed;\n  z-index: 100;\n  right: 1rem;\n  bottom: 2rem;\n  width: 2.5rem;\n  height: 2.5rem;\n  font-size: 2rem;\n  line-height: 1.1rem;\n  text-align: center;\n  border: 2px solid black;\n  border-radius: 50%;\n  background-color: white;\n  padding: 10px;\n  &:hover {cursor: pointer}; \n"]);return je=function(){return e},e}function Fe(){var e=Object(s.a)(["\n  height: 100%;\n  width: 100%;\n<<<<<<< HEAD\n  background: #fff;\n=======\n>>>>>>> 243f5202a1cc7f781d990eab874d668d0cf67764\n"]);return Fe=function(){return e},e}function Te(){var e=Object(s.a)(["\n  position: fixed;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  &:hover {cursor: pointer}; \n"]);return Te=function(){return e},e}var Se=n(24),Ce=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleMenu=function(){n.setState({menuOpen:!n.state.menuOpen})},n.navigate=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){var a=n.state.navStack;a.push(n.state.currentPage),console.log(a),n.setState({navStack:a})}n.setState({menuOpen:!1,currentPage:e,currentEntry:t}),"list"!=e&&window.history.pushState("",document.title,window.location.pathname)},n.reset=function(){n.setUserFilter([]),n.navigate("home")},n.back=function(){if("scan"!=n.state.currentPage){var e=n.state.navStack,t=e.pop();n.setState({navStack:e}),n.navigate(t,n.state.entry,!0)}else n.navigate("home")},n.state={examples:[],menuOpen:!1,currentPage:"home",mcmmId:null,navStack:[],userFilter:[]},n.setUserFilter=n.setUserFilter.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setUserFilter",value:function(e){var t=this;this.setState({userFilter:e},function(){t.navigate("home")})}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=localStorage.getItem("mcmmId");e&&(t=e.substr(1),this.setState({currentPage:"list",mcmmId:t,navStack:["home"]})),t||(t=Se()),this.setState({mcmmId:t}),localStorage.setItem("mcmmId",t)}},{key:"render",value:function(){var e=this,t={home:r.a.createElement(ne,{userFilter:this.state.userFilter,setUserFilter:this.setUserFilter}),list:r.a.createElement(N,{mcmmId:this.state.mcmmId,editEntry:function(t){e.navigate("edit",t)}}),edit:r.a.createElement(he,{mcmmId:this.state.mcmmId,back:this.back,entry:this.state.currentEntry}),scan:r.a.createElement(xe,{mcmmId:this.state.mcmmId,setUserFilter:this.setUserFilter})}[this.state.currentPage];return[r.a.createElement(ze,{key:"globalstyles"}),this.state.menuOpen?r.a.createElement(g,{key:"main",close:this.toggleMenu,navigate:this.navigate}):r.a.createElement(_e,{key:"main"},!(this.state.userFilter.length>0)&&r.a.createElement(Ie,{onClick:this.toggleMenu,src:"images/menu.png"}),t,("home"===this.state.currentPage&&!(this.state.userFilter.length>0)||"list"==this.state.currentPage)&&r.a.createElement(De,{onClick:function(){return e.navigate("edit")}},"+"),"home"!==this.state.currentPage&&r.a.createElement(Me,{src:"/images/close.png",onClick:this.back}))]}}]),t}(a.Component),Ie=f.b.img(Te()),_e=f.b.div(Fe()),De=f.b.div(je()),Me=f.b.img(Ee()),ze=Object(f.a)(we()),Le=function(){return r.a.createElement(Ce,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.b2c6ed98.chunk.js.map