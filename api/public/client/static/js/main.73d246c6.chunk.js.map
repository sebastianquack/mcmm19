{"version":3,"sources":["components/Menu.js","helpers/index.js","components/MapPage.js","components/LineGraph.js","components/ListPage.js","components/SimpleGraph.js","components/HomePage.js","components/EditPage.js","components/BaseContainer.js","App.js","serviceWorker.js","index.js"],"names":["require","Menu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","react_default","a","createElement","MenuContainer","MenuButton","onClick","navigate","ExitButton","src","close","Component","styled","div","_templateObject","img","_templateObject2","_templateObject3","apiUrl","mapStyles","google","window","MapPage","mapContainerRef","React","createRef","markers","lines","infoWindows","map","maps","Map","current","zoom","center","lat","lng","streetViewControl","fullscreenControl","mapTypeControl","styles","prevPros","length","entries","icon","url","scaledSize","height","width","origin","x","y","anchor","labelOrigin","Point","latlngbounds","LatLngBounds","forEach","user","e","marker","Marker","position","cityLocation","label","color","fontSize","text","emoji","infoWindow","InfoWindow","content","city","musician","year","addListener","open","push","extend","slice","index","Polyline","path","strokeColor","strokeOpacity","strokeWeight","l","setMap","fitBounds","MapContainer","ref","MapPage_templateObject","visible","svg","ListPage","user_emoji","Math","floor","random","location","hash","mcmmId","axios","get","then","response","setState","data","docs","catch","console","log","_this3","i","ListItem","key","EditLink","editEntry","List","href","components_MapPage","span","ListPage_templateObject","ul","ListPage_templateObject2","li","ListPage_templateObject3","_templateObject4","margin","LineGraph","_rootNode","offsetWidth","renderGraph","element","json","d3","append","attr","xScale","range","domain","toConsumableArray","Array","keys","padding","xAxis","tickValues","filter","d","selectAll","style","yExtent","amount","yAxis","tickFormat","ticks","enter","bandwidth","SimpleGraph","setupGraph","links","create","nodes","simulation","force","id","strength","radius","nodeCircles","join","circles","_loop","weight","pow","link","node","drag","on","source","target","active","alphaTarget","restart","fx","fy","HomePage","marginTop","marginBottom","LineGraph_LineGraph","components_SimpleGraph","EditPage","handleSubmit","event","_id","put","parseInt","note","user_id","changed","error","post","handleDelete","confirm","delete","back","handleInputChange","_this$setState","name","value","isNaN","defineProperty","entry","musicians","cities","Label","Autocomplete_default","items","m","getItemValue","item","shouldItemRender","toLowerCase","indexOf","renderItem","highlighted","backgroundColor","onChange","onSelect","val","wrapperStyle","display","inputProps","autocompleteInputStyle","c","Input","autoComplete","type","Textarea","Button","EditPage_templateObject","boxSizing","input","EditPage_templateObject2","textarea","EditPage_templateObject3","EditPage_templateObject4","uuidv1","BaseContainer","toggleMenu","menuOpen","page","arguments","undefined","navStack","currentPage","currentEntry","history","pushState","document","title","pathname","previousPage","pop","examples","localStorage","getItem","substr","setItem","mainContent","home","components_HomePage","list","components_ListPage","edit","components_EditPage","components_Menu","MainContent","BaseContainer_MenuButton","AddButton","BaseContainer_ExitButton","BaseContainer_templateObject","BaseContainer_templateObject2","BaseContainer_templateObject3","BaseContainer_templateObject4","App","components_BaseContainer","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.73d246c6.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <MenuContainer>\n        <MenuButton onClick={()=>this.props.navigate(\"home\")}>home</MenuButton>\n        <MenuButton onClick={()=>this.props.navigate(\"list\")}>my entries</MenuButton>\n        <ExitButton src=\"/images/close.png\"  onClick={this.props.close}/>\n      </MenuContainer>\n    );\n  }\n}\n\nexport default Menu;\n\nconst MenuButton = styled.div`\n  :hover {cursor: pointer};\n  margin-bottom: 10px;\n`\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n\nconst MenuContainer = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n","export const apiUrl = \"/api\"\n","import React, { Component } from 'react';\n\nimport styled from 'styled-components'\n\nconst mapStyles = require('./GoogleMapStyles.json')\nconst google = window.google;\n\nclass MapPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mapContainerRef = React.createRef();\n    this.markers = [];\n    this.lines = [];\n    this.infoWindows = [];\n  } \n\n  componentDidMount() {\n    this.map = new google.maps.Map(this.mapContainerRef.current, {\n      zoom: 1,\n      center: {lat: 0, lng: 0},\n      streetViewControl: false, \n      fullscreenControl: false, \n      mapTypeControl: false,\n      styles: mapStyles // change default map styles\n    });\n  } \n\n  componentDidUpdate(prevPros) {\n    if(!this.markers.length && this.props.entries) {\n      const icon = {\n        url: \"/images/blank.png\", // url\n        scaledSize: {height: 30, width: 30}, // scaled size\n        origin: {x:0, y:0}, // origin\n        anchor: {x:12.5, y:12.5}, // anchor\n        labelOrigin: new google.maps.Point(12.5, 12.5)\n      };\n      var latlngbounds = new window.google.maps.LatLngBounds();\n\n      this.props.entries.forEach(user=>{      \n\n        // add markers for user\n        user.entries.forEach((e)=>{\n          let marker = new google.maps.Marker({\n              position: e.cityLocation,\n              icon: icon,\n              label: {\n                color: \"#fff\",\n                fontSize: \"14px\",\n                text: user.emoji,\n              },\n              map: this.map,\n          })\n          \n          let infoWindow = new google.maps.InfoWindow({\n            content: e.city + \" \" + e.musician + \" \" + e.year\n          });\n\n          marker.addListener('click', function() {\n            infoWindow.open(this.map, marker);\n          });\n\n          this.markers.push(marker)\n          this.infoWindows.push(infoWindow);\n          latlngbounds.extend(e.cityLocation);\n        })\n        \n        // add lines for user\n        user.entries.slice(0, -1).forEach((e, index)=>\n          this.lines.push(\n            new google.maps.Polyline({\n              path: [user.entries[index].cityLocation, user.entries[index+1].cityLocation],\n              //geodesic: true,\n              strokeColor: '#aaa',\n              strokeOpacity: 1.0,\n              strokeWeight: 1\n            })\n          )\n        );\n\n      });\n      this.lines.forEach(l=>l.setMap(this.map));\n      this.map.fitBounds(latlngbounds);\n    }\n  }\n\n  render() {\n    return (\n      <MapContainer ref={this.mapContainerRef} />\n    )\n  }\n}\n\nexport default MapPage;\n\nconst MapContainer = styled.div`\n  display: flex;\n  width: 100%; \n  height: 400px;\n  box-sizing: border-box;\n  flex-direction: column;\n  visibility: ${props => props.visible != false ? \"visible\" : \"hidden\"}\n`\n","import React, { Component } from 'react';\n\nimport { apiUrl } from '../helpers'\nimport axios from 'axios';\n\nimport * as d3 from 'd3'\n\nvar width = 500,\n    height = 100;\n\nvar margin = {top: 30, right: 50, bottom: 50, left: 30};\n\nvar svg;\n\nexport default class LineGraph extends Component {\n  constructor(props) {\n    super(props);\n    this._rootNode = React.createRef();\n  }\n\n  componentDidMount() {\n\n    // D3 Code to create the chart\n    // using this._rootNode as container\n    width = this._rootNode.current.offsetWidth ;\n    axios.get(apiUrl + \"/year_data/\")\n    .then((response)=> {\n      this.renderGraph(this._rootNode.current, response.data);\n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  shouldComponentUpdate() {\n        // Prevents component re-rendering\n        return false;\n    }\n\n  render() {\n    return <div ref={this._rootNode} />;\n  }\n\n  renderGraph(element, json) {\n  \n    svg = d3.select(element)\n      .append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // X axis\n    var xScale = d3.scaleBand()\n      .range([ 0, width ])\n      .domain([...Array(63).keys()].map(i=>i+1960))\n      .padding(0.2);\n    \n    var xAxis = d3.axisBottom(xScale)\n    .tickValues(xScale.domain().filter(function(d,i){ return !((i)%5)}));\n\n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(xAxis)\n      .selectAll(\"text\")\n        .attr(\"transform\", \"translate(-10,10)rotate(-80)\")\n        .style(\"text-anchor\", \"end\");\n\n    let yExtent = d3.extent(json, function(d) { return d.amount; });\n\n    // Add Y axis\n    var y = d3.scaleLinear()\n      .domain(yExtent)\n      .range([ height, 0]);\n\n    var yAxis = d3.axisLeft(y)\n      .tickFormat(d3.format(\"d\"))\n      .ticks(yExtent[1])\n\n    svg.append(\"g\")\n      .call(yAxis);\n\n    // Bars\n    svg.selectAll(\"mybar\")\n      .data(json)\n      .enter()\n      .append(\"rect\")\n        .attr(\"x\", function(d) { return xScale(d.year); })\n        .attr(\"y\", function(d) { return y(d.amount); })\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\", function(d) { return height - y(d.amount); })\n        .attr(\"fill\", \"#69b3a2\")\n  }\n}\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport MapPage from './MapPage.js';\n\nclass ListPage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        entries: []\n    }\n\n    const emoji = [\"🐶\", \"🐱\", \"🐭\", \"🐹\", \"🐰\", \"🦊\", \"🦝\"];\n    this.user_emoji = emoji[Math.floor(Math.random() * emoji.length)];\n  }\n\n  async componentDidMount() {\n    window.location.hash = this.props.mcmmId;\n\n    axios.get(apiUrl + \"/entry_by_user/\" + this.props.mcmmId + \"/\")\n    .then((response)=> {\n      this.setState({ entries: response.data.docs})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  render() {\n\n                \n    const entries = this.state.entries.map((e, i)=>\n      <ListItem key={i}>\n        {this.user_emoji} {e.musician} {e.city} {e.year} <EditLink onClick={()=>{this.props.editEntry(e)}}>[edit]</EditLink>\n      </ListItem>);\n    return (\n      <div>\n        <h1>my entries</h1>\n        <List>{entries}</List>\n        <p>This is your secret edit link: <a href={\"#\"+this.props.mcmmId}>{\"#\"+this.props.mcmmId}</a></p>\n        <p>Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries.</p>\n      \n        <MapPage entries={[{emoji: this.user_emoji, entries: this.state.entries}]}/>\n      </div>\n    );\n  }\n}\n\nexport default ListPage;\n\nconst EditLink = styled.span`\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n`\n\nconst List = styled.ul`\n  padding-left: 0px;\n`\nconst ListItem = styled.li`\n  list-style: none;\n  margin-left: 0px;\n`\n\nconst Dot = styled.span`\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n`","import React, { Component } from 'react';\n\nimport { apiUrl } from '../helpers'\nimport axios from 'axios';\n\nimport * as d3 from 'd3'\n\n/* build the network */\n\nclass SimpleGraph extends Component {\n  constructor(props) {\n    super(props);\n    this._rootNode = React.createRef();\n  }\n\n  componentDidMount() {\n    axios.get(apiUrl + \"/graph_data/\")\n    .then((response)=> {\n      this.setupGraph(this._rootNode.current, response.data);\n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  shouldComponentUpdate() {\n        // Prevents component re-rendering\n        return false;\n    }\n\n  render() {\n    return <div ref={this._rootNode} />;\n  }\n\n  setupGraph(element, data) {\n\n    const links = data.links.map(d => Object.create(d));\n    const nodes = data.nodes.map(d => Object.create(d));\n\n    const width = element.offsetWidth;\n    const height = 400;\n\n    const simulation = d3.forceSimulation(nodes)\n        .force(\"link\", d3.forceLink(links).id(d => d.id))\n        .force(\"charge\", d3.forceManyBody().strength(-1000))\n        .force('collide', d3.forceCollide().radius(10).strength(5))\n        .force(\"x\", d3.forceX())\n        .force(\"y\", d3.forceY());\n\n    const svg = d3.select(element)\n      .append(\"svg\")\n        .attr(\"viewBox\", [-width / 2, -height / 2, width, height]);\n      \n    const nodeCircles = svg.append(\"g\")\n      .selectAll(\"g\")\n      .data(nodes)\n      .join(\"g\")    \n    \n    let circles = [];\n    for(let i = 0; i < 5; i++) {\n      circles[i] = nodeCircles.append(\"circle\")\n        .attr(\"stroke\", \"#eee\")      \n        .attr(\"fill\", \"none\")\n        .attr(\"r\", d => d.weight + Math.pow(i + 1, 3))\n    }\n\n    const nodeColor = \"#69b3a2\";\n\n    const link = svg.append(\"g\")\n        .attr(\"stroke\", nodeColor)\n        .attr(\"stroke-opacity\", 0.2)\n      .selectAll(\"line\")\n      .data(links)\n      .join(\"line\")\n        .attr(\"stroke-width\", 1);\n\n    const nodeContainer = svg.append(\"g\")\n        .attr(\"stroke\", \"#eee\")\n        .attr(\"stroke-width\", 1)\n      .selectAll(\"g\")\n      .data(nodes)\n      .join(\"g\")\n\n    const node = nodeContainer.append(\"circle\")\n          .attr(\"stroke\", \"#69b3a2\")\n          .attr(\"fill\", \"#fff\")\n          .attr(\"r\", d => d.weight)\n          .call(this.drag(simulation));\n\n    const label = svg.append(\"g\")\n        .attr(\"dx\", 12)\n        .attr(\"dy\", \".35em\")\n        .attr(\"stroke\", \"#666\")\n        .attr(\"stroke-width\", 0.1)\n        .attr(\"font-size\", 10)\n        .selectAll(\"text\")\n        .data(nodes)\n        .join(\"text\")\n        .text(d => d.id);\n\n    simulation.on(\"tick\", () => {\n      link\n          .attr(\"x1\", d => d.source.x)\n          .attr(\"y1\", d => d.source.y)\n          .attr(\"x2\", d => d.target.x)\n          .attr(\"y2\", d => d.target.y);\n\n      node\n          .attr(\"cx\", d => d.x)\n          .attr(\"cy\", d => d.y);\n\n      for(let i = 0; i < 5; i++) {\n        circles[i]\n            .attr(\"cx\", d => d.x)\n            .attr(\"cy\", d => d.y);\n      }\n\n      label\n          .attr(\"x\", d => d.x + 7 + d.weight)\n          .attr(\"y\", d => d.y + 3);\n\n    });\n\n  }\n\n  // standard dragging behaviour\n  drag(simulation) {\n  \n    function dragstarted(d) {\n      if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n    \n    function dragged(d) {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n    }\n    \n    function dragended(d) {\n      if (!d3.event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n    \n    return d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n  }\n\n}\n\nexport default SimpleGraph;","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport LineGraph from './LineGraph.js';\nimport MapPage from './MapPage.js';\nimport SimpleGraph from './SimpleGraph.js';\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        data: []\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entries_by_users/\")\n    .then((response)=> {\n      this.setState({ data: response.data})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n  \n\n  render() {\n    return (\n      <div>\n        <h1>home page</h1>\n        <div style={{width: \"100%\"}}>\n          <MapPage entries={this.state.data}/>\n        </div>\n        <div style={{width: \"100%\", marginTop: 20, marginBottom: 50}}>\n          <LineGraph/>\n        </div>\n        <div style={{width: \"100%\", marginTop: 20, marginBottom: 50}}>\n          <SimpleGraph/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport ReactAutocomplete from 'react-autocomplete';\n\nimport styled from 'styled-components'\n\nclass EditPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musician: this.props.entry ? this.props.entry.musician : \"\",\n      city: this.props.entry ? this.props.entry.city : \"\",\n      year: this.props.entry ? this.props.entry.year : \"\",\n      note: this.props.entry ? this.props.entry.note : \"\",\n      _id: this.props.entry ? this.props.entry._id : null,\n      musicians: [],\n      cities: [],\n      changed: false\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entry_uniques/\")\n    .then((response)=> {\n      console.log(response);\n      this.setState({musicians: response.data.musicians})    \n      this.setState({cities: response.data.cities})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  handleSubmit = (event)=> {\n    console.log(this.state);\n\n    if(!this.state._id) {\n      axios.post(apiUrl + '/entry', {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n    \n    } else {\n\n      axios.put(apiUrl + '/entry/' + this.state._id, {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n  }\n\n  handleDelete = () => {\n\n    if(window.confirm(\"really?\")) {\n        axios.delete(apiUrl + '/entry/' + this.state._id, {        \n      })\n      .then((response)=> {\n        console.log(response);\n        this.props.back();\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n\n  }\n\n  handleInputChange = (event)=> {\n    const target = event.target;\n    const name = target.name;\n    const value = name != \"year\" || (name == \"year\" && !isNaN(target.value)) ? target.value : this.state.year;\n\n    this.setState({\n      [name]: value,\n      changed: true\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>{this.state._id ? \"update entry\" : \"new entry\"}</h1>\n        <form>\n          <Label>musician/composer/band</Label> \n          \n          <ReactAutocomplete\n            items={this.state.musicians.map((m)=>{return {value: m}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.musician}\n            onChange={(e) => this.setState({musician: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({musician: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>city</Label> \n          \n          <ReactAutocomplete\n            items={this.state.cities.map((c)=>{return {value: c}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.city}\n            onChange={(e) => this.setState({city: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({city: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>year</Label>\n          <Input autoComplete=\"off\" type=\"text\" name=\"year\" value={this.state.year} onChange={this.handleInputChange}/>\n          <br/>\n          <Label>note</Label>\n          <Textarea name=\"note\" value={this.state.note} onChange={this.handleInputChange}/>\n          <br/>\n          {this.state.changed && <Button onClick={this.handleSubmit}>save</Button>}\n          {this.state._id && <Button onClick={this.handleDelete}>delete entry</Button>}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EditPage;\n\nconst Label = styled.label`\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n`\n\nconst autocompleteInputStyle = {width: \"100%\", height: \"2em\", fontSize: \"200%\", boxSizing: \"border-box\"};\n\nconst Input = styled.input`\n  font-size: 200%;\n  text-align: left;\n  width: 100%;\n  height: 2em;\n  box-sizing: border-box;\n`\n\nconst Textarea = styled.textarea`\n  width: 100%;\n  height: 100px;\n  padding: 10px;\n  font-size: 150%;\n  box-sizing: border-box;\n`\n\nconst Button = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n`","import React, { Component } from 'react';\n\nimport Menu from './Menu.js';\nimport ListPage from './ListPage.js';\nimport HomePage from './HomePage.js';\nimport EditPage from './EditPage.js';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass BaseContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      examples: [],\n      menuOpen: false,\n      currentPage: \"home\",\n      mcmmId: null,\n      navStack: []\n    }\n  }\n\n  componentDidMount() {\n    let hash = window.location.hash;\n    let mcmmId = localStorage.getItem('mcmmId');  \n    if(hash) {\n      mcmmId = hash.substr(1);\n      this.setState({\n        currentPage: \"list\",\n        mcmmId: mcmmId,\n        navStack: [\"home\"]\n      })\n    }\n    if(!mcmmId) {\n      mcmmId = uuidv1();\n    }\n    this.setState({mcmmId: mcmmId});  \n    localStorage.setItem('mcmmId', mcmmId);    \n  }\n\n  toggleMenu = ()=>{\n    this.setState({menuOpen: !this.state.menuOpen})\n  }\n\n  navigate = (page, entry, noSave=false)=>{\n    if(!noSave) {\n      let navStack = this.state.navStack;\n      navStack.push(this.state.currentPage);\n      console.log(navStack);\n      this.setState({navStack});\n    }\n    this.setState({\n      menuOpen: false,\n      currentPage: page,\n      currentEntry: entry\n    });\n    if(page != \"list\") {\n      window.history.pushState(\"\", document.title, window.location.pathname);\n    }\n  }\n\n  back = () => {\n    let navStack = this.state.navStack;\n    let previousPage = navStack.pop();\n    this.setState({navStack});\n    this.navigate(previousPage, this.state.entry, true);\n  }\n\n  render() {\n    const pages = {\n      \"home\": <HomePage/>,\n      \"list\": <ListPage mcmmId={this.state.mcmmId} editEntry={(entry)=>{this.navigate(\"edit\", entry)}}/>,\n      \"edit\": <EditPage mcmmId={this.state.mcmmId} back={this.back} entry={this.state.currentEntry}/>\n    }\n    let mainContent = pages[this.state.currentPage];\n    \n    return (\n      this.state.menuOpen ? <Menu close={this.toggleMenu} navigate={this.navigate}/> : \n      <MainContent>\n        <MenuButton onClick={this.toggleMenu} src=\"images/menu.png\"/>\n        {mainContent}\n        {(this.state.currentPage == \"home\" || this.state.currentPage == \"list\") && <AddButton onClick={()=>this.navigate(\"edit\")}>add</AddButton>}\n        {this.state.currentPage != \"home\" && <ExitButton src=\"/images/close.png\" onClick={this.back}/>}\n      </MainContent>\n    );\n  }\n}\n\nexport default BaseContainer;\n\nconst MenuButton = styled.img`\n  position: fixed;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst MainContent = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n\nconst AddButton = styled.div`\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  bottom: 20px;\n  border: 1px solid black;\n  background-color: white;\n  padding: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n","import React from 'react';\nimport BaseContainer from './components/BaseContainer.js'\n\nconst App = () => <BaseContainer/>\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}