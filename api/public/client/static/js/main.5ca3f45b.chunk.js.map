{"version":3,"sources":["components/Menu.js","helpers/index.js","components/MapComponent.js","components/ListPage.js","components/LineGraph.js","components/TopMusiciansList.js","components/HomePage.js","components/EditPage.js","components/ScanPage.js","components/BaseContainer.js","App.js","serviceWorker.js","index.js"],"names":["require","Menu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","react_default","a","createElement","MenuContainer","MenuButton","onClick","reset","navigate","ExitButton","src","close","Component","styled","li","_templateObject","img","_templateObject2","ul","_templateObject3","apiUrl","mapStyles","google","window","MapComponent","mapContainerRef","React","createRef","markers","lines","infoWindows","entries","fetchData","bind","assertThisInitialized","drawMap","params","musicianFilter","musician","userFilter","length","userIds","JSON","stringify","axios","get","then","response","console","log","setState","data","catch","e","map","maps","Map","current","zoom","center","lat","lng","streetViewControl","fullscreenControl","mapTypeControl","zoomControl","styles","prevProps","forEach","m","setMap","_this3","icon","url","scaledSize","height","width","origin","x","y","anchor","labelOrigin","Point","latlngbounds","LatLngBounds","keys","k","firstEntry","marker","Marker","position","cityLocation","content","city","year","infoWindow","InfoWindow","addListener","open","push","extend","l","fitBounds","getZoom","setZoom","MapContainer","ref","div","MapComponent_templateObject","visible","ListPage","location","hash","mcmmId","docs","i","ListItem","key","EditLink","editEntry","Container","List","href","ListPage_templateObject","span","ListPage_templateObject2","ListPage_templateObject3","_templateObject4","_templateObject5","LineGraph","amount","className","style","transform","alt","unshift","apply","toConsumableArray","Array","from","startYear","listEntries","d","renderYear","Ol","start","PureComponent","ol","LineGraph_templateObject","TopMusiciansList","musicians","sort","b","percent","setMusicianFilter","name","count","TopMusiciansList_Container","filterOn","TopMusiciansList_templateObject","TopMusiciansList_templateObject2","HomePage","onResize","showTopMusiciansList","showLineGraph","handleFilterClose","post","setUserFilter","showFilterBar","HomePage_Container","UserFilterInfo","HomePage_ExitButton","components_MapComponent","components_TopMusiciansList","LineGraph_LineGraph","esm","handleWidth","handleHeight","HomePage_templateObject","HomePage_templateObject2","HomePage_templateObject3","EditPage","handleSubmit","event","_id","put","parseInt","note","user_id","changed","error","handleDelete","confirm","delete","back","handleInputChange","_this$setState","target","value","isNaN","defineProperty","fixYear","yearMax","Date","getFullYear","yearMin","entry","cities","EditPage_Container","Form","Label","Autocomplete_default","items","getItemValue","item","shouldItemRender","toLowerCase","indexOf","renderItem","highlighted","backgroundColor","onChange","onSelect","val","wrapperStyle","display","inputProps","autocompleteInputStyle","c","autoComplete","size","maxLength","type","onBlur","Button","EditPage_templateObject","label","EditPage_templateObject2","form","EditPage_templateObject3","EditPage_templateObject4","QRCode","ScanPage","handleScan","result","handleError","err","pollFilter","pollInterval","setInterval","clearInterval","padding","lib_default","delay","onError","onScan","uuidv1","BaseContainer","toggleMenu","menuOpen","page","arguments","undefined","navStack","currentPage","currentEntry","history","pushState","document","title","pathname","previousPage","pop","examples","filter","localStorage","getItem","substr","setItem","mainContent","home","components_HomePage","list","components_ListPage","edit","components_EditPage","scan","components_ScanPage","GlobalStyles","components_Menu","MainContent","BaseContainer_MenuButton","AddButton","BaseContainer_ExitButton","BaseContainer_templateObject","BaseContainer_templateObject2","BaseContainer_templateObject3","BaseContainer_templateObject4","createGlobalStyle","BaseContainer_templateObject5","App","components_BaseContainer","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"28EAGeA,EAAQ,IAAvB,IAqBeC,cAlBb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,GAFIP,wEAMV,IAAAQ,EAAAL,KACP,OACEM,EAAAC,EAAAC,cAACC,EAAD,KACEH,EAAAC,EAAAC,cAACE,EAAD,CAAYC,QAASX,KAAKJ,MAAMgB,OAAhC,QACAN,EAAAC,EAAAC,cAACE,EAAD,CAAYC,QAAS,kBAAIN,EAAKT,MAAMiB,SAAS,UAA7C,cACAP,EAAAC,EAAAC,cAACE,EAAD,CAAYC,QAAS,kBAAIN,EAAKT,MAAMiB,SAAS,UAA7C,WACAP,EAAAC,EAAAC,cAACM,EAAD,CAAYC,IAAI,oBAAqBJ,QAASX,KAAKJ,MAAMoB,gBAb9CC,aAqBbP,EAAaQ,IAAOC,GAAVC,KAKVN,EAAaI,IAAOG,IAAVC,KASVb,EAAgBS,IAAOK,GAAVC,8CCxCNC,EAAS,mICOtB,IAAMC,EAAYhC,EAAQ,IACpBiC,EAASC,OAAOD,OA4IPE,cAxIb,SAAAA,EAAYjC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6B,IACjBhC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+B,GAAA1B,KAAAH,KAAMJ,KACDkC,gBAAkBC,IAAMC,YAC7BnC,EAAKoC,QAAU,GACfpC,EAAKqC,MAAQ,GACbrC,EAAKsC,YAAc,GAEnBtC,EAAKO,MAAQ,CACXgC,QAAS,IAGXvC,EAAKwC,UAAYxC,EAAKwC,UAAUC,KAAfxC,OAAAyC,EAAA,EAAAzC,CAAAD,IACjBA,EAAK2C,QAAU3C,EAAK2C,QAAQF,KAAbxC,OAAAyC,EAAA,EAAAzC,CAAAD,IAZEA,2EAeP,IAAAQ,EAAAL,KACNyC,EAAS,GAEVzC,KAAKJ,MAAM8C,iBACZD,EAAOE,SAAW3C,KAAKJ,MAAM8C,gBAE5B1C,KAAKJ,MAAMgD,YAAc5C,KAAKJ,MAAMgD,WAAWC,OAAS,IACzDJ,EAAOK,QAAUC,KAAKC,UAAUhD,KAAKJ,MAAMgD,aAG7CK,IAAMC,IAAIzB,EAAS,gBAAiB,CAACgB,WAClCU,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACZ/C,EAAKkD,SAAS,CAAEnB,QAASgB,EAASI,MAAOnD,EAAKmC,WAE/CiB,MAAM,SAACC,GACNL,QAAQC,IAAII,iDAKhB1D,KAAKqC,YAELrC,KAAK2D,IAAM,IAAIhC,EAAOiC,KAAKC,IAAI7D,KAAK8B,gBAAgBgC,QAAS,CAC3DC,KAAM,EACNC,OAAQ,CAACC,IAAK,EAAGC,IAAK,GACtBC,mBAAmB,EACnBC,mBAAmB,EACnBC,gBAAgB,EAChBC,aAAa,EACbC,OAAQ7C,+CAKO8C,GACdxE,KAAKJ,MAAM8C,iBAAmB8B,EAAU9B,gBAAkB1C,KAAKJ,MAAMgD,aAAe4B,EAAU5B,aAC/F5C,KAAKiC,QAAQwC,QAAQ,SAAAC,GACnBA,EAAEC,OAAO,QAEX3E,KAAKiC,QAAU,GACfjC,KAAKoC,QAAU,GACfpC,KAAKqC,+CAIC,IAAAuC,EAAA5E,KAEA6E,EAAO,CACXC,IAAK,qBACLC,WAAY,CAACC,OAAQ,GAAIC,MAAO,IAChCC,OAAQ,CAACC,EAAE,EAAGC,EAAE,GAChBC,OAAQ,CAACF,EAAE,KAAMC,EAAE,MACnBE,YAAa,IAAI3D,EAAOiC,KAAK2B,MAAM,KAAM,OAEvCC,EAAe,IAAI5D,OAAOD,OAAOiC,KAAK6B,aAE1C3F,OAAO4F,KAAK1F,KAAKI,MAAMgC,SAASqC,QAAQ,SAAAkB,GAEtC,IAAIC,EAAahB,EAAKxE,MAAMgC,QAAQuD,GAAG,GAGnCE,EAAS,IAAIlE,EAAOiC,KAAKkC,OAAO,CAChCC,SAAUH,EAAWI,aACrBnB,KAAMA,EAMNlB,IAAKiB,EAAKjB,MAGVsC,EAAUL,EAAWM,KAAO,OAChCtB,EAAKxE,MAAMgC,QAAQuD,GAAGlB,QAAQ,SAACf,GAC7BuC,GAAWvC,EAAEf,SAAW,IAAMe,EAAEyC,KAAO,SAGzC,IAAIC,EAAa,IAAIzE,EAAOiC,KAAKyC,WAAW,CAC1CJ,QAASA,IAGXJ,EAAOS,YAAY,QAAS,WAC1BF,EAAWG,KAAKvG,KAAK2D,IAAKkC,KAG5BjB,EAAK3C,QAAQuE,KAAKX,GAClBjB,EAAKzC,YAAYqE,KAAKJ,GACtBZ,EAAaiB,OAAOb,EAAWI,gBAkBjChG,KAAKkC,MAAMuC,QAAQ,SAAAiC,GAAC,OAAEA,EAAE/B,OAAOC,EAAKjB,OAEpC3D,KAAK2D,IAAIgD,UAAUnB,GACnB,IAAIzB,EAAO/D,KAAK2D,IAAIiD,UACpB5G,KAAK2D,IAAIkD,QAAQ9C,EAAO,EAAI,EAAIA,oCAKlC,OACEzD,EAAAC,EAAAC,cAACsG,EAAD,CAAcC,IAAK/G,KAAK8B,yBArIHb,aA4IrB6F,EAAe5F,IAAO8F,IAAVC,IAGF,SAAArH,GAAK,OAAqB,GAAjBA,EAAMsH,QAAmB,UAAY,4wBCxG/CC,cAvCb,SAAAA,EAAYvH,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmH,IACjBtH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqH,GAAAhH,KAAAH,KAAMJ,KACCQ,MAAQ,CACXgC,QAAS,IAHIvC,sMAQjB+B,OAAOwF,SAASC,KAAOrH,KAAKJ,MAAM0H,OAElCrE,IAAMC,IAAIzB,EAAS,kBAAoBzB,KAAKJ,MAAM0H,OAAS,KAC1DnE,KAAK,SAACC,GACL/C,EAAKkD,SAAS,CAAEnB,QAASgB,EAASI,KAAK+D,SAExC9D,MAAM,SAACC,GACNL,QAAQC,IAAII,wIAIP,IAAAkB,EAAA5E,KAGDoC,EAAUpC,KAAKI,MAAMgC,QAAQuB,IAAI,SAACD,EAAG8D,GAAJ,OACrClH,EAAAC,EAAAC,cAACiH,EAAD,CAAUC,IAAKF,GACZ9D,EAAEf,SADL,IACgBe,EAAEwC,KADlB,IACyBxC,EAAEyC,KAD3B,IACiC7F,EAAAC,EAAAC,cAACmH,EAAD,CAAUhH,QAAS,WAAKiE,EAAKhF,MAAMgI,UAAUlE,KAA7C,aAEnC,OACEpD,EAAAC,EAAAC,cAACqH,EAAD,KACEvH,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAACsH,EAAD,KAAO1F,GACP9B,EAAAC,EAAAC,cAAA,2CAAkCF,EAAAC,EAAAC,cAAA,KAAGuH,KAAM,IAAI/H,KAAKJ,MAAM0H,QAAS,IAAItH,KAAKJ,MAAM0H,SAClFhH,EAAAC,EAAAC,cAAA,2IAhCeS,aA0CjB4G,EAAY3G,IAAO8F,IAAVgB,KAITL,EAAWzG,IAAO+G,KAAVC,KAMRJ,EAAO5G,IAAOK,GAAV4G,KAGJV,EAAWvG,IAAOC,GAAViH,QAKFlH,IAAO+G,KAAVI,ghCC/DYC,cACnB,SAAAA,EAAY1I,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsI,IACjBzI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwI,GAAAnI,KAAAH,KAAMJ,KACDQ,MAAQ,CACXoD,KAAM,IAGR3D,EAAKwC,UAAYxC,EAAKwC,UAAUC,KAAfxC,OAAAyC,EAAA,EAAAzC,CAAAD,IANAA,2EASP,IAAAQ,EAAAL,KACViD,IAAMC,IAAIzB,EAAS,eAAiBzB,KAAKJ,MAAM8C,eAAiB,aAAe1C,KAAKJ,MAAM8C,eAAiB,KAC1GS,KAAK,SAACC,GACLC,QAAQC,IAAI,sBACZjD,EAAKkD,SAAS,CACZC,KAAMJ,EAASI,SAGlBC,MAAM,SAACC,GACNL,QAAQC,IAAII,iDAKd1D,KAAKqC,uDAGYmC,GACdxE,KAAKJ,MAAM8C,iBAAmB8B,EAAU9B,gBACzC1C,KAAKqC,+CAIE8D,EAAMoC,GACf,OAAOjI,EAAAC,EAAAC,cAAA,MAAIkH,IAAKvB,GACd7F,EAAAC,EAAAC,cAAA,QAAMgI,UAAU,YACZD,EAAS,EACTjI,EAAAC,EAAAC,cAAA,OAAKiI,MAAO,CAACC,UAAW,SAASH,EAAO,KAAMI,IAAKxC,EAAMpF,IAAI,uBAC7D,MAEJT,EAAAC,EAAAC,cAAA,QAAMgI,UAAU,gBAChBlI,EAAAC,EAAAC,cAAA,QAAMgI,UAAU,eACdlI,EAAAC,EAAAC,cAAA,YACI+H,EAAS,EAAIpC,EAAO,yCAMrB,IAAAvB,EAAA5E,KACHwD,EAAOxD,KAAKI,MAAMoD,KACtB,IAAKA,GAAwB,IAAhBA,EAAKX,OAAc,OAAO,KAIvCW,EAAKoF,QAALC,MAAArF,EAAI1D,OAAAgJ,EAAA,EAAAhJ,CAAYiJ,MAAMC,KAAKD,MADL,GAC2B,SAACrF,EAAE8D,GAAH,MAAQ,CACvDrB,KAAKqB,GAAGhE,EAAK,GAAG2C,KAFI,GAGpBoC,OAAO,OAKT/E,EAAKgD,KAALqC,MAAArF,EAAI1D,OAAAgJ,EAAA,EAAAhJ,CAASiJ,MAAMC,KAAKD,MADH,GACwB,SAACrF,EAAE8D,GAAH,MAAQ,CACnDrB,KAAKqB,GAAGhE,EAAKA,EAAKX,OAAO,GAAGsD,KAFT,GAGnBoC,OAAO,OAGT,IAAMU,EAAYzF,EAAK,GAAG2C,KAEpB+C,EAAc1F,EAAKG,IAAK,SAAAwF,GAAC,OAAIvE,EAAKwE,WAAWD,EAAEhD,KAAMgD,EAAEZ,UAE7D,OAAOjI,EAAAC,EAAAC,cAAC6I,EAAD,CAAIC,MAAOL,GACbC,UAxE8BK,iBA6EjCF,EAAKnI,IAAOsI,GAAVC,2lBCzBOC,cAlDb,SAAAA,EAAY9J,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0J,IACjB7J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4J,GAAAvJ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXuJ,UAAW,IAGb9J,EAAKwC,UAAYxC,EAAKwC,UAAUC,KAAfxC,OAAAyC,EAAA,EAAAzC,CAAAD,IANAA,mFAUjBG,KAAKqC,gDAGK,IAAAhC,EAAAL,KACViD,IAAMC,IAAIzB,EAAS,sBACdzB,KAAKJ,MAAM8C,eAAiB,aAAe1C,KAAKJ,MAAM8C,eAAiB,KAC3ES,KAAK,SAACC,GACLC,QAAQC,IAAIF,EAASI,MACrBnD,EAAKkD,SAAS,CAAEoG,UAAWvG,EAASI,SAErCC,MAAM,SAACC,GACNL,QAAQC,IAAII,gDAIGc,GACdxE,KAAKJ,MAAM8C,iBAAmB8B,EAAU9B,gBACzC1C,KAAKqC,6CAIA,IAAAuC,EAAA5E,KAEDoC,EAAUpC,KAAKI,MAAMuJ,UACxBC,KAAK,SAACrJ,EAAGsJ,GAAJ,OAAWtJ,EAAEuJ,QAAUD,EAAEC,QAAW,GAAK,IAC9CnG,IAAI,SAACD,EAAG8D,GAAJ,OACHlH,EAAAC,EAAAC,cAAA,MAAIkH,IAAKF,EAAG7G,QAAU,kBAAMiE,EAAKhF,MAAMmK,kBAAkBrG,EAAEsG,QACzD1J,EAAAC,EAAAC,cAAA,YAAOkD,EAAEoG,QAAT,KADF,OAGExJ,EAAAC,EAAAC,cAAA,YAAOkD,EAAEsG,KAAT,QAAsBtG,EAAEuG,MAAxB,QAGN,OACE3J,EAAAC,EAAAC,cAAC0J,EAAD,CAAWC,SAAUnK,KAAKJ,MAAMuK,UAC9B7J,EAAAC,EAAAC,cAAA,UAAK4B,WA7CkBnB,aAqDzB4G,EAAY3G,IAAO8F,IAAVoD,IAGN,SAAAxK,GAAK,OAAIA,EAAMuK,SAAW,OAAS,MAuB9BjJ,IAAO+G,KAAVoC,yaCJIC,eAtEb,SAAAA,EAAY1K,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsK,IACjBzK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwK,GAAAnK,KAAAH,KAAMJ,KAUR2K,SAAW,SAACtF,EAAOD,GAEjBnF,EAAK0D,SAAS,CACZiH,qBAAsBvF,EAAQ,IAC9BwF,cAAexF,EAAQ,OAbvBpF,EAAKO,MAAQ,CACXsC,eAAgB,KAChBE,WAAY,IAGhB/C,EAAK6K,kBAAoB7K,EAAK6K,kBAAkBpI,KAAvBxC,OAAAyC,EAAA,EAAAzC,CAAAD,IAPRA,mFAqBjBwD,QAAQC,IAAI,qBAEZL,IAAM0H,KAAKlJ,EAAS,kBAAoBzB,KAAKJ,MAAM0H,QAClDnE,KAAK,SAACC,GACLC,QAAQC,IAAIF,KAEbK,MAAM,SAACC,GACNL,QAAQC,IAAII,KAGd1D,KAAKJ,MAAMgL,cAAc,IACzB5K,KAAKJ,MAAMmK,kBAAkB,uCAI7B,IAAMc,EAAiB7K,KAAKJ,MAAMgD,WAAWC,OAAS,GAAK7C,KAAKJ,MAAM8C,eAEtE,OACEpC,EAAAC,EAAAC,cAACsK,GAAD,KAEED,GACAvK,EAAAC,EAAAC,cAACuK,GAAD,KACI/K,KAAKJ,MAAMgD,WAAWC,OAAS,GAAMvC,EAAAC,EAAAC,cAAA,0BAAkBR,KAAKJ,MAAMgD,WAAWC,OAAxC,UACrC7C,KAAKJ,MAAM8C,gBAAmBpC,EAAAC,EAAAC,cAAA,2CAAmCR,KAAKJ,MAAM8C,gBAE9EpC,EAAAC,EAAAC,cAACwK,GAAD,CAAYjK,IAAI,oBAAoBJ,QAASX,KAAK0K,qBAIpDpK,EAAAC,EAAAC,cAACyK,EAAD,CAAcrI,WAAY5C,KAAKJ,MAAMgD,WAAYF,eAAgB1C,KAAKJ,MAAM8C,iBAE1E1C,KAAKI,MAAMoK,sBACXlK,EAAAC,EAAAC,cAAC0K,EAAD,CACExI,eAAgB1C,KAAKJ,MAAM8C,eAC3BqH,kBAAmB/J,KAAKJ,MAAMmK,kBAC9BI,SAAUU,IAIZ7K,KAAKI,MAAMqK,eACXnK,EAAAC,EAAAC,cAAC2K,EAAD,CAAWzI,eAAgB1C,KAAKJ,MAAM8C,iBAGxCpC,EAAAC,EAAAC,cAAC4K,EAAA,EAAD,CAAqBC,aAAW,EAACC,cAAY,EAACf,SAAUvK,KAAKuK,mBAjE9CtJ,aAyEjB4G,GAAY3G,IAAO8F,IAAVuE,MAKTR,GAAiB7J,IAAO8F,IAAVwE,KAKd1K,GAAaI,IAAOG,IAAVoK,u6BCyFDC,eA7Kb,SAAAA,EAAY9L,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0L,IACjB7L,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4L,GAAAvL,KAAAH,KAAMJ,KAyBR+L,aAAe,SAACC,GACdvI,QAAQC,IAAIzD,EAAKO,OAEbP,EAAKO,MAAMyL,IAkBb5I,IAAM6I,IAAIrK,EAAS,UAAY5B,EAAKO,MAAMyL,IAAK,CAC7ClJ,SAAU9C,EAAKO,MAAMuC,SACrBuD,KAAMrG,EAAKO,MAAM8F,KACjBC,KAAM4F,SAASlM,EAAKO,MAAM+F,MAC1B6F,KAAMnM,EAAKO,MAAM4L,KACjBC,QAASpM,EAAKD,MAAM0H,SAErBnE,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACZvD,EAAK0D,SAAS,CAACsI,IAAKzI,EAASI,KAAKqI,IAAKK,SAAS,MAEjDzI,MAAM,SAAC0I,GACN9I,QAAQC,IAAI6I,KA7BdlJ,IAAM0H,KAAKlJ,EAAS,SAAU,CAC5BkB,SAAU9C,EAAKO,MAAMuC,SACrBuD,KAAMrG,EAAKO,MAAM8F,KACjBC,KAAM4F,SAASlM,EAAKO,MAAM+F,MAC1B6F,KAAMnM,EAAKO,MAAM4L,KACjBC,QAASpM,EAAKD,MAAM0H,SAErBnE,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACZvD,EAAK0D,SAAS,CAACsI,IAAKzI,EAASI,KAAKqI,IAAKK,SAAS,MAEjDzI,MAAM,SAAC0I,GACN9I,QAAQC,IAAI6I,MA1CCtM,EAiEnBuM,aAAe,WAEVxK,OAAOyK,QAAQ,YACdpJ,IAAMqJ,OAAO7K,EAAS,UAAY5B,EAAKO,MAAMyL,IAAK,IAEnD1I,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACZvD,EAAKD,MAAM2M,SAEZ9I,MAAM,SAAC0I,GACN9I,QAAQC,IAAI6I,MA3ECtM,EAkFnB2M,kBAAoB,SAACZ,GAAS,IAAAa,EACtBC,EAASd,EAAMc,OACf1C,EAAO0C,EAAO1C,KACd2C,EAAiB,SAAT3C,GAA6B,SAATA,IAAoB4C,MAAMF,EAAOC,OAAUD,EAAOC,MAAQ9M,EAAKO,MAAM+F,KAEvGtG,EAAK0D,UAALkJ,EAAA,GAAA3M,OAAA+M,GAAA,EAAA/M,CAAA2M,EACGzC,EAAO2C,GADV7M,OAAA+M,GAAA,EAAA/M,CAAA2M,EAAA,WAEW,GAFXA,KAvFiB5M,EA6FnBiN,QAAU,SAAA3G,GACR,IAAM4G,GAAU,IAAIC,MAAOC,cACrBC,EAAUH,EAAU,GAG1B,OAFK5G,EAAO+G,IAAS/G,EAAO+G,GACvB/G,EAAO4G,IAAS5G,EAAO4G,GACrB5G,GAhGPtG,EAAKO,MAAQ,CACXuC,SAAU9C,EAAKD,MAAMuN,MAAQtN,EAAKD,MAAMuN,MAAMxK,SAAW,GACzDuD,KAAMrG,EAAKD,MAAMuN,MAAQtN,EAAKD,MAAMuN,MAAMjH,KAAO,GACjDC,KAAMtG,EAAKD,MAAMuN,MAAQtN,EAAKD,MAAMuN,MAAMhH,KAAO,GACjD6F,KAAMnM,EAAKD,MAAMuN,MAAQtN,EAAKD,MAAMuN,MAAMnB,KAAO,GACjDH,IAAKhM,EAAKD,MAAMuN,MAAQtN,EAAKD,MAAMuN,MAAMtB,IAAM,KAC/ClC,UAAW,GACXyD,OAAQ,GACRlB,SAAS,GAVMrM,sMAejBoD,IAAMC,IAAIzB,EAAS,mBAClB0B,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACZ/C,EAAKkD,SAAS,CAACoG,UAAWvG,EAASI,KAAKmG,YACxCtJ,EAAKkD,SAAS,CAAC6J,OAAQhK,EAASI,KAAK4J,WAEtC3J,MAAM,SAACC,GACNL,QAAQC,IAAII,mIA+EP,IAAAkB,EAAA5E,KACP,OACEM,EAAAC,EAAAC,cAAC6M,GAAD,KACE/M,EAAAC,EAAAC,cAAA,UAAKR,KAAKI,MAAMyL,IAAM,eAAiB,aACvCvL,EAAAC,EAAAC,cAAC8M,GAAD,KACEhN,EAAAC,EAAAC,cAAC+M,GAAD,+BAEAjN,EAAAC,EAAAC,cAACgN,GAAAjN,EAAD,CACEkN,MAAOzN,KAAKI,MAAMuJ,UAAUhG,IAAI,SAACe,GAAK,MAAO,CAACiI,MAAOjI,KACrDgJ,aAAc,SAAAC,GAAI,OAAIA,EAAKhB,OAC3BiB,iBAAkB,SAACD,EAAMhB,GAAP,OAAiBgB,EAAKhB,MAAMkB,cAAcC,QAAQnB,EAAMkB,gBAAkB,GAC5FE,WAAY,SAACJ,EAAMK,GAAP,OACV1N,EAAAC,EAAAC,cAAA,OACEkH,IAAKiG,EAAKhB,MACVlE,MAAO,CAAEwF,gBAAiBD,EAAc,OAAS,gBAEhDL,EAAKhB,QAGVA,MAAO3M,KAAKI,MAAMuC,SAClBuL,SAAU,SAACxK,GAAD,OAAOkB,EAAKrB,SAAS,CAACZ,SAAUe,EAAEgJ,OAAOC,MAAOT,SAAS,KACnEiC,SAAU,SAACC,GAAD,OAASxJ,EAAKrB,SAAS,CAACZ,SAAUyL,EAAKlC,SAAS,KAC1DmC,aAAc,CAACC,QAAS,SACxBC,WAAY,CAAC9F,MAAO+F,MAGtBlO,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC+M,GAAD,aAEAjN,EAAAC,EAAAC,cAACgN,GAAAjN,EAAD,CACEkN,MAAOzN,KAAKI,MAAMgN,OAAOzJ,IAAI,SAAC8K,GAAK,MAAO,CAAC9B,MAAO8B,KAClDf,aAAc,SAAAC,GAAI,OAAIA,EAAKhB,OAC3BiB,iBAAkB,SAACD,EAAMhB,GAAP,OAAiBgB,EAAKhB,MAAMkB,cAAcC,QAAQnB,EAAMkB,gBAAkB,GAC5FE,WAAY,SAACJ,EAAMK,GAAP,OACV1N,EAAAC,EAAAC,cAAA,OACEkH,IAAKiG,EAAKhB,MACVlE,MAAO,CAAEwF,gBAAiBD,EAAc,OAAS,gBAEhDL,EAAKhB,QAGVA,MAAO3M,KAAKI,MAAM8F,KAClBgI,SAAU,SAACxK,GAAD,OAAOkB,EAAKrB,SAAS,CAAC2C,KAAMxC,EAAEgJ,OAAOC,MAAOT,SAAS,KAC/DiC,SAAU,SAACC,GAAD,OAASxJ,EAAKrB,SAAS,CAAC2C,KAAMkI,EAAKlC,SAAS,KACtDmC,aAAc,CAACC,QAAS,SACxBC,WAAY,CAAC9F,MAAO+F,MAGtBlO,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC+M,GAAD,aACAjN,EAAAC,EAAAC,cAAA,SACEkO,aAAa,MACbC,KAAK,IACLC,UAAU,IACVC,KAAK,OACL7E,KAAK,OACL2C,MAAO3M,KAAKI,MAAM+F,KAClB+H,SAAUlO,KAAKwM,kBACfsC,OAAQ,kBAAMlK,EAAKrB,SAAS,CAAC4C,KAAKvB,EAAKkI,QAAQlI,EAAKxE,MAAM+F,WAE5D7F,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC+M,GAAD,aACAjN,EAAAC,EAAAC,cAAA,YAAUwJ,KAAK,OAAO2C,MAAO3M,KAAKI,MAAM4L,KAAMkC,SAAUlO,KAAKwM,oBAC7DlM,EAAAC,EAAAC,cAAA,WACCR,KAAKI,MAAM8L,SAAW5L,EAAAC,EAAAC,cAACuO,GAAD,CAAQpO,QAASX,KAAK2L,cAAtB,QACtB3L,KAAKI,MAAMyL,KAAOvL,EAAAC,EAAAC,cAACuO,GAAD,CAAQpO,QAASX,KAAKoM,cAAtB,yBAvKNnL,aAgLjB4G,GAAY3G,IAAO8F,IAAVgI,MAITzB,GAAQrM,IAAO+N,MAAVC,MAOLV,GAAyB,GAEzBlB,GAAOpM,IAAOiO,KAAVC,MA0BJL,GAAS7N,IAAO8F,IAAVqI,0BCxNRC,GAAS5P,EAAQ,IAgFN6P,eA7Eb,SAAAA,EAAY3P,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuP,IACjB1P,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyP,GAAApP,KAAAH,KAAMJ,KA8BR4P,WAAa,SAAAhM,GACPA,IACF3D,EAAK0D,SAAS,CACZkM,OAAQjM,IAGV3D,EAAKD,MAAMgL,cAAc,CAAC/K,EAAKD,MAAM0H,OAAQ9D,IAE7CP,IAAM0H,KAAKlJ,EAAS,eAAiB+B,EAAO,IAAM3D,EAAKD,MAAM0H,QAC5DnE,KAAK,SAACC,GACLC,QAAQC,IAAIF,KAEbK,MAAM,SAACC,GACNL,QAAQC,IAAII,OA5CC7D,EAiDnB6P,YAAc,SAAAC,GACZtM,QAAQ8I,MAAMwD,IAhDZ9P,EAAKO,MAAQ,CACXqP,OAAQ,aAGZ5P,EAAK+P,WAAa/P,EAAK+P,WAAWtN,KAAhBxC,OAAAyC,EAAA,EAAAzC,CAAAD,IANDA,mFAWjBG,KAAK6P,aAAeC,YAAY9P,KAAK4P,WAAY,oDAIjDG,cAAc/P,KAAK6P,mDAGR,IAAAxP,EAAAL,KACXiD,IAAMC,IAAIzB,EAAS,oBAAsBzB,KAAKJ,MAAM0H,QACnDnE,KAAK,SAACC,GACLC,QAAQC,IAAIF,GACTA,EAASI,MAAQJ,EAASI,KAAK+D,MAAQnE,EAASI,KAAK+D,KAAK1E,QAC3DxC,EAAKT,MAAMgL,cAAc,CAACvK,EAAKT,MAAM0H,OAAQlE,EAASI,KAAK+D,SAG9D9D,MAAM,SAACC,GACNL,QAAQC,IAAII,sCA4Bd,OACEpD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBAEAF,EAAAC,EAAAC,cAAA,OAAKiI,MAAO,CAACuH,QAAS,KACpB1P,EAAAC,EAAAC,cAAC8O,GAAD,CAAQ3C,MAAO3M,KAAKJ,MAAM0H,UAI5BhH,EAAAC,EAAAC,cAACyP,GAAA1P,EAAD,CACE2P,MAAO,IACPC,QAASnQ,KAAK0P,YACdU,OAAQpQ,KAAKwP,WACb/G,MAAO,CAAExD,MAAO,UAElB3E,EAAAC,EAAAC,cAAA,SAAIR,KAAKI,MAAMqP,gBAvEAxO,m+CCCvB,IAAMoP,GAAS3Q,EAAQ,IAiIR4Q,eA9Hb,SAAAA,EAAY1Q,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsQ,IACjBzQ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwQ,GAAAnQ,KAAAH,KAAMJ,KAgDR2Q,WAAa,WACX1Q,EAAK0D,SAAS,CAACiN,UAAW3Q,EAAKO,MAAMoQ,YAlDpB3Q,EAqDnBgB,SAAW,SAAC4P,EAAMtD,GAChB,KADsCuD,UAAA7N,OAAA,QAAA8N,IAAAD,UAAA,IAAAA,UAAA,IAC1B,CACV,IAAIE,EAAW/Q,EAAKO,MAAMwQ,SAC1BA,EAASpK,KAAK3G,EAAKO,MAAMyQ,aACzBxN,QAAQC,IAAIsN,GACZ/Q,EAAK0D,SAAS,CAACqN,aAEjB/Q,EAAK0D,SAAS,CACZiN,UAAU,EACVK,YAAaJ,EACbK,aAAc3D,IAEL,QAARsD,GACD7O,OAAOmP,QAAQC,UAAU,GAAIC,SAASC,MAAOtP,OAAOwF,SAAS+J,WAlE9CtR,EAsEnBe,MAAQ,WACNf,EAAK+K,cAAc,IACnB/K,EAAKgB,SAAS,SAxEGhB,EA2EnB0M,KAAO,WACL,GAA6B,QAA1B1M,EAAKO,MAAMyQ,YAAd,CAKA,IAAID,EAAW/Q,EAAKO,MAAMwQ,SACtBQ,EAAeR,EAASS,MAC5BxR,EAAK0D,SAAS,CAACqN,aACf/Q,EAAKgB,SAASuQ,EAAcvR,EAAKO,MAAM+M,OAAO,QAP5CtN,EAAKgB,SAAS,SA3EhBhB,EAAKO,MAAQ,CACXkR,SAAU,GACVd,UAAU,EACVK,YAAa,OACbvJ,OAAQ,KACRsJ,SAAU,GACVhO,WAAY,GACZF,eAAgB,MAGlB7C,EAAK+K,cAAgB/K,EAAK+K,cAActI,KAAnBxC,OAAAyC,EAAA,EAAAzC,CAAAD,IACrBA,EAAKkK,kBAAoBlK,EAAKkK,kBAAkBzH,KAAvBxC,OAAAyC,EAAA,EAAAzC,CAAAD,IAbRA,6EAgBL0R,GAAQ,IAAAlR,EAAAL,KACpBA,KAAKuD,SAAS,CACZX,WAAY2O,GACX,WACDlR,EAAKQ,SAAS,oDAIA8B,GAChB3C,KAAKuD,SAAS,CACZb,eAAgBC,EAChBC,WAAY,iDAKd,IAAIyE,EAAOzF,OAAOwF,SAASC,KACvBC,EAASkK,aAAaC,QAAQ,UAC/BpK,IACDC,EAASD,EAAKqK,OAAO,GACrB1R,KAAKuD,SAAS,CACZsN,YAAa,OACbvJ,OAAQA,EACRsJ,SAAU,CAAC,WAGXtJ,IACFA,EAAS+I,MAEXrQ,KAAKuD,SAAS,CAAC+D,OAAQA,IACvBkK,aAAaG,QAAQ,SAAUrK,oCAyCxB,IAAA1C,EAAA5E,KACD6K,EAAiB7K,KAAKI,MAAMwC,WAAWC,OAAS,GAAK7C,KAAKI,MAAMsC,eAalEkP,EAXU,CACZC,KAAQvR,EAAAC,EAAAC,cAACsR,GAAD,CAAUxK,OAAQtH,KAAKI,MAAMkH,OACnC1E,WAAY5C,KAAKI,MAAMwC,WACvBgI,cAAe5K,KAAK4K,cACpBlI,eAAgB1C,KAAKI,MAAMsC,eAC3BqH,kBAAmB/J,KAAK+J,oBAE1BgI,KAAQzR,EAAAC,EAAAC,cAACwR,EAAD,CAAU1K,OAAQtH,KAAKI,MAAMkH,OAAQM,UAAW,SAACuF,GAASvI,EAAK/D,SAAS,OAAQsM,MACxF8E,KAAQ3R,EAAAC,EAAAC,cAAC0R,GAAD,CAAU5K,OAAQtH,KAAKI,MAAMkH,OAAQiF,KAAMvM,KAAKuM,KAAMY,MAAOnN,KAAKI,MAAM0Q,eAChFqB,KAAQ7R,EAAAC,EAAAC,cAAC4R,GAAD,CAAU9K,OAAQtH,KAAKI,MAAMkH,OAAQsD,cAAe5K,KAAK4K,iBAE3C5K,KAAKI,MAAMyQ,aAEnC,MACE,CACEvQ,EAAAC,EAAAC,cAAC6R,GAAD,CAAc3K,IAAI,iBAClB1H,KAAKI,MAAMoQ,SACXlQ,EAAAC,EAAAC,cAAC8R,EAAD,CAAM5K,IAAI,OAAO1G,MAAOhB,KAAKuQ,WAAY1P,SAAUb,KAAKa,WAEtDP,EAAAC,EAAAC,cAAC+R,GAAD,CAAa7K,IAAI,UACZ1H,KAAKI,MAAMwC,WAAWC,OAAS,GAAK7C,KAAKI,MAAMsC,iBAAmBpC,EAAAC,EAAAC,cAACgS,GAAD,CAAY7R,QAASX,KAAKuQ,WAAYxP,IAAI,oBAC9G6Q,GAC4B,SAA3B5R,KAAKI,MAAMyQ,cAA2BhG,GAA2C,QAA1B7K,KAAKI,MAAMyQ,cAClEvQ,EAAAC,EAAAC,cAACiS,GAAD,CAAW9R,QAAS,kBAAIiE,EAAK/D,SAAS,UAAtC,KAI0B,SAA3Bb,KAAKI,MAAMyQ,aACVvQ,EAAAC,EAAAC,cAACkS,GAAD,CAAY3R,IAAI,oBAAoBJ,QAASX,KAAKuM,gBAvHpCtL,aAiItBP,GAAaQ,IAAOG,IAAVsR,MAUVJ,GAAcrR,IAAO8F,IAAV4L,MASXH,GAAYvR,IAAO8F,IAAV6L,MAiBT/R,GAAaI,IAAOG,IAAVyR,MAQVT,GAAeU,YAAHC,MCtLHC,GADH,kBAAM3S,EAAAC,EAAAC,cAAC0S,GAAD,OCSEC,QACW,cAA7BvR,OAAOwF,SAASgM,UAEe,UAA7BxR,OAAOwF,SAASgM,UAEhBxR,OAAOwF,SAASgM,SAASC,MACvB,2DCZNC,IAASC,OAAOjT,EAAAC,EAAAC,cAACgT,GAAD,MAASvC,SAASwC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzQ,KAAK,SAAA0Q,GACjCA,EAAaC","file":"static/js/main.5ca3f45b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components'\n\nconst uuidv1 = require('uuid/v1');\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <MenuContainer>\n        <MenuButton onClick={this.props.reset}>home</MenuButton>\n        <MenuButton onClick={()=>this.props.navigate(\"list\")}>my entries</MenuButton>\n        <MenuButton onClick={()=>this.props.navigate(\"scan\")}>scanner</MenuButton>\n        <ExitButton src=\"/images/close.png\"  onClick={this.props.close}/>\n      </MenuContainer>\n    );\n  }\n}\n\nexport default Menu;\n\nconst MenuButton = styled.li`\n  margin-bottom: 10px;\n  &:hover {cursor: pointer};\n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n`\n\nconst MenuContainer = styled.ul`\n  padding: 4rem 1rem 1rem 2rem;\n`\n","export const apiUrl = \"/api\"\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nconst mapStyles = require('./GoogleMapStyles.json')\nconst google = window.google;\n\nclass MapComponent extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mapContainerRef = React.createRef();\n    this.markers = [];\n    this.lines = [];\n    this.infoWindows = [];\n\n    this.state = {\n      entries: []\n    }\n\n    this.fetchData = this.fetchData.bind(this);\n    this.drawMap = this.drawMap.bind(this);\n  } \n\n  fetchData() {\n    let params = {}\n\n    if(this.props.musicianFilter) {\n      params.musician = this.props.musicianFilter;\n    }\n    if(this.props.userFilter && this.props.userFilter.length > 0) {\n      params.userIds = JSON.stringify(this.props.userFilter);\n    }\n\n    axios.get(apiUrl + \"/map_entries/\", {params})\n      .then((response)=> {\n        console.log(response);\n        this.setState({ entries: response.data}, this.drawMap);\n    })\n      .catch((e)=> {\n        console.log(e);\n    });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n\n    this.map = new google.maps.Map(this.mapContainerRef.current, {\n      zoom: 1,\n      center: {lat: 0, lng: 0},\n      streetViewControl: false, \n      fullscreenControl: false, \n      mapTypeControl: false,\n      zoomControl: false,\n      styles: mapStyles // change default map styles\n    });\n\n  }\n\n  componentDidUpdate(prevProps) {\n    if(this.props.musicianFilter !== prevProps.musicianFilter || this.props.userFilter !== prevProps.userFilter) {\n      this.markers.forEach(m=>{\n        m.setMap(null);\n      });\n      this.markers = [];\n      this.entries = [];\n      this.fetchData();\n    }\n  }\n\n  drawMap() {\n    \n      const icon = {\n        url: \"/images/marker.svg\", // url\n        scaledSize: {height: 30, width: 30}, // scaled size\n        origin: {x:0, y:0}, // origin\n        anchor: {x:12.5, y:12.5}, // anchor\n        labelOrigin: new google.maps.Point(12.5, 12.5)\n      };\n      var latlngbounds = new window.google.maps.LatLngBounds();\n\n      Object.keys(this.state.entries).forEach(k=>{      \n\n        let firstEntry = this.state.entries[k][0];\n\n        // add markers for user\n        let marker = new google.maps.Marker({\n            position: firstEntry.cityLocation,\n            icon: icon,\n            /*label: {\n              color: \"#fff\",\n              fontSize: \"14px\",\n              text: \"entry text on map if needed\",\n            },*/\n            map: this.map,\n        })\n\n        let content = firstEntry.city + \"<br>\";\n        this.state.entries[k].forEach((e) => {\n          content += e.musician + \" \" + e.year + \"<br>\";\n        });\n          \n        let infoWindow = new google.maps.InfoWindow({\n          content: content\n        });\n\n        marker.addListener('click', function() {\n          infoWindow.open(this.map, marker);\n        });\n\n        this.markers.push(marker)\n        this.infoWindows.push(infoWindow);\n        latlngbounds.extend(firstEntry.cityLocation);\n      })\n        \n        /*\n        // add lines for user\n        user.entries.slice(0, -1).forEach((e, index)=>\n          this.lines.push(\n            new google.maps.Polyline({\n              path: [user.entries[index].cityLocation, user.entries[index+1].cityLocation],\n              //geodesic: true,\n              strokeColor: '#aaa',\n              strokeOpacity: 1.0,\n              strokeWeight: 1\n            })\n          )\n        );\n        */\n\n      this.lines.forEach(l=>l.setMap(this.map));\n      \n      this.map.fitBounds(latlngbounds);\n      var zoom = this.map.getZoom();\n      this.map.setZoom(zoom < 2 ? 2 : zoom); // minimum initial zoom is 2, so there are no visible borders\n  \n  }\n\n  render() {\n    return (\n      <MapContainer ref={this.mapContainerRef} />\n    )\n  }\n}\n\nexport default MapComponent;\n\nconst MapContainer = styled.div`\n  width: 100%; \n  height: 100%;\n  visibility: ${props => props.visible != false ? \"visible\" : \"hidden\"}\n`\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport MapComponent from './MapComponent.js';\n\nclass ListPage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        entries: []\n    }\n  }\n\n  async componentDidMount() {\n    window.location.hash = this.props.mcmmId;\n\n    axios.get(apiUrl + \"/entry_by_user/\" + this.props.mcmmId + \"/\")\n    .then((response)=> {\n      this.setState({ entries: response.data.docs})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  render() {\n\n                \n    const entries = this.state.entries.map((e, i)=>\n      <ListItem key={i}>\n        {e.musician} {e.city} {e.year} <EditLink onClick={()=>{this.props.editEntry(e)}}>[edit]</EditLink>\n      </ListItem>);\n    return (\n      <Container>\n        <h1>my entries</h1>\n        <List>{entries}</List>\n        <p>This is your secret edit link: <a href={\"#\"+this.props.mcmmId}>{\"#\"+this.props.mcmmId}</a></p>\n        <p>Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries.</p>\n      \n        {/*<MapComponent entries={[{entries: this.state.entries}]}/>*/}\n      </Container>\n    );\n  }\n}\n\nexport default ListPage;\n\nconst Container = styled.div`\n  padding: 4rem 1rem 2rem 1rem;\n`\n\nconst EditLink = styled.span`\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n`\n\nconst List = styled.ul`\n  padding-left: 0px;\n`\nconst ListItem = styled.li`\n  list-style: none;\n  margin-left: 0px;\n`\n\nconst Dot = styled.span`\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n`","import React, { PureComponent } from 'react';\nimport styled from 'styled-components';\n\nimport { apiUrl } from '../helpers'\nimport axios from 'axios';\n\nexport default class LineGraph extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    }\n\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  fetchData() {\n    axios.get(apiUrl + \"/year_data/\" + (this.props.musicianFilter ? \"?musician=\" + this.props.musicianFilter : \"\"))\n    .then((response)=> {\n      console.log(\"yearly data loaded\")\n      this.setState({\n        data: response.data\n      });\n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if(this.props.musicianFilter !== prevProps.musicianFilter) {\n      this.fetchData();\n    }\n  }\n\n  renderYear(year, amount) {\n    return <li key={year}>\n      <span className=\"year_top\">\n        { amount > 0 ? \n          <img style={{transform: \"scale(\"+amount+\")\"}} alt={year} src=\"/images/marker.svg\" /> \n        : null }\n      </span>\n      <span className=\"year_middle\"></span>\n      <span className=\"year_bottom\">\n        <span>\n          { amount > 0 ? year : null }\n        </span>  \n      </span>\n    </li>\n  }\n\n  render() {\n    let data = this.state.data\n    if (!data || data.length === 0) return null\n\n    // prepend some years at the beginning\n    const prependAmount = 4\n    data.unshift(...Array.from(Array(prependAmount), (e,i)=>({\n      year:i+(data[0].year-prependAmount), \n      amount:0\n    })))\n\n    // append some years at the end\n    const appendAmount = 1\n    data.push(...Array.from(Array(appendAmount), (e,i)=>({\n      year:i+(data[data.length-1].year + appendAmount), \n      amount:0\n    })))\n\n    const startYear = data[0].year\n        \n    const listEntries = data.map( d => this.renderYear(d.year, d.amount) )\n\n    return <Ol start={startYear}>\n        {listEntries}\n    </Ol>;\n  }\n}\n\nconst Ol = styled.ol`\n  position: fixed;\n  bottom:0;\n  left:0;\n  right: 0;\n  padding: 1rem;\n  box-sizing: border-box;\n\n  display: flex;\n  width: 100%;\n\n  li {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    height: 6em;\n  }\n\n  li .year_top {\n    height: 3vh;\n    /* background: red; */\n  }\n\n  li .year_top img {\n    width: auto;\n    height: 1vh;\n    /* background: yellow; */\n  }\n\n  li .year_middle {\n    height: 3vh;\n  }\n\n  li .year_middle:before {\n    content: \"\";\n    border: solid 1px black;\n    border-width: 0 0 0 1px;\n    position: relative;\n    left: calc(50% - 1px);\n  }\n\n  li .year_bottom {\n    height: 3vh;\n    /* background: green; */\n  }\n\n  li .year_bottom span {\n    width: calc(1em + 20%);\n    transform: rotate(-90deg) translateX(-100%);\n    overflow: visible;\n    /* background: red; */\n  }\n\n  li > * {\n    position: relative;\n  }\n\n  li > * > * {\n    position: absolute;\n  }\n`","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nclass TopMusiciansList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musicians: []\n    }\n\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData() {\n    axios.get(apiUrl + \"/top_musicians/10/\" \n      + (this.props.musicianFilter ? \"?musician=\" + this.props.musicianFilter : \"\"))\n    .then((response)=> {\n      console.log(response.data);\n      this.setState({ musicians: response.data })    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }  \n\n  componentDidUpdate(prevProps) {\n    if(this.props.musicianFilter !== prevProps.musicianFilter) {\n      this.fetchData();\n    }\n  }\n\n  render() {\n\n    const entries = this.state.musicians\n      .sort((a, b) => (a.percent < b.percent) ? 1 : -1)\n      .map((e, i)=> \n        <li key={i} onClick={ () => this.props.setMusicianFilter(e.name) }>\n          <span>{e.percent}%</span>\n          &nbsp;\n          <span>{e.name}&nbsp;({e.count})</span>\n        </li>)\n\n    return (\n      <Container filterOn={this.props.filterOn}>\n        <ul>{entries}</ul>\n      </Container>\n    );\n  }\n}\n\nexport default TopMusiciansList;\n\nconst Container = styled.div`\n  position: fixed;\n  right: 0;\n  top: ${props => props.filterOn ? \"60px\" : \"0\" };\n  width: 33vw;\n  padding: 1rem 1rem 0 0;\n  box-sizing: border-box;\n\n  ul {\n    list-style-type: none;\n  } ;\n  li {\n    display: flex;\n    span:first-child {\n      width: 2em;\n    }\n    span:last-child {\n      flex: 1;\n      &:hover {\n        cursor: pointer;\n        text-decoration: underline;\n      }\n    }\n  }\n`\n\nconst Clear = styled.span`\n  &:hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`","import React, { Component } from 'react';\nimport ReactResizeDetector from 'react-resize-detector';\nimport styled from 'styled-components'\n\nimport LineGraph from './LineGraph.js';\nimport MapComponent from './MapComponent.js';\nimport TopMusiciansList from './TopMusiciansList.js';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        musicianFilter: null,\n        userFilter: []\n    }\n\n    this.handleFilterClose = this.handleFilterClose.bind(this);\n  }\n\n  \n  onResize = (width, height) => {\n    // console.log(width, height)\n    this.setState({\n      showTopMusiciansList: width > 600,\n      showLineGraph: width > 600\n    })\n  }\n\n  handleFilterClose() {\n\n    console.log(\"handleFilterClose\");\n\n    axios.post(apiUrl + \"/remove_filter/\" + this.props.mcmmId)\n    .then((response)=> {\n      console.log(response);\n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n\n    this.props.setUserFilter([]);\n    this.props.setMusicianFilter(null)\n  }\n  \n  render() {\n    const showFilterBar = (this.props.userFilter.length > 0 || this.props.musicianFilter)\n\n    return (\n      <Container>\n\n      { showFilterBar && \n        <UserFilterInfo>\n          {(this.props.userFilter.length > 0) && <span>filter for {this.props.userFilter.length} users</span>}\n          {(this.props.musicianFilter) && <span>filter for users that named {this.props.musicianFilter}</span>}\n\n          <ExitButton src=\"/images/close.png\" onClick={this.handleFilterClose}/>\n        </UserFilterInfo>\n      }\n\n        <MapComponent userFilter={this.props.userFilter} musicianFilter={this.props.musicianFilter}/>\n        \n        { this.state.showTopMusiciansList &&\n          <TopMusiciansList \n            musicianFilter={this.props.musicianFilter}\n            setMusicianFilter={this.props.setMusicianFilter}\n            filterOn={showFilterBar}\n          />\n        }\n\n        { this.state.showLineGraph &&\n          <LineGraph musicianFilter={this.props.musicianFilter}/>\n        }\n        \n        <ReactResizeDetector handleWidth handleHeight onResize={this.onResize} />\n      </Container>\n    );\n  }\n}\n\nexport default HomePage;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n`\n\nconst UserFilterInfo = styled.div`\n  min-height: 60px;\n  padding: 20px;\n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  z-index: 100;\n  :hover {cursor: pointer};\n`\n\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport ReactAutocomplete from 'react-autocomplete';\n\nimport styled from 'styled-components'\n\nclass EditPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musician: this.props.entry ? this.props.entry.musician : \"\",\n      city: this.props.entry ? this.props.entry.city : \"\",\n      year: this.props.entry ? this.props.entry.year : \"\",\n      note: this.props.entry ? this.props.entry.note : \"\",\n      _id: this.props.entry ? this.props.entry._id : null,\n      musicians: [],\n      cities: [],\n      changed: false\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entry_uniques/\")\n    .then((response)=> {\n      console.log(response);\n      this.setState({musicians: response.data.musicians})    \n      this.setState({cities: response.data.cities})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  handleSubmit = (event)=> {\n    console.log(this.state);\n\n    if(!this.state._id) {\n      axios.post(apiUrl + '/entry', {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n    \n    } else {\n\n      axios.put(apiUrl + '/entry/' + this.state._id, {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n  }\n\n  handleDelete = () => {\n\n    if(window.confirm(\"really?\")) {\n        axios.delete(apiUrl + '/entry/' + this.state._id, {        \n      })\n      .then((response)=> {\n        console.log(response);\n        this.props.back();\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n\n  }\n\n  handleInputChange = (event)=> {\n    const target = event.target;\n    const name = target.name;\n    const value = name !== \"year\" || (name === \"year\" && !isNaN(target.value)) ? target.value : this.state.year;\n\n    this.setState({\n      [name]: value,\n      changed: true\n    });\n  }\n\n  fixYear = year => {\n    const yearMax = new Date().getFullYear()\n    const yearMin = yearMax - 80\n    if ( year < yearMin) year = yearMin\n    if ( year > yearMax) year = yearMax\n    return year\n  }\n\n  render() {\n    return (\n      <Container>\n        <h1>{this.state._id ? \"update entry\" : \"new entry\"}</h1>\n        <Form>\n          <Label>musician/composer/band</Label> \n          \n          <ReactAutocomplete\n            items={this.state.musicians.map((m)=>{return {value: m}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.musician}\n            onChange={(e) => this.setState({musician: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({musician: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>city</Label> \n          \n          <ReactAutocomplete\n            items={this.state.cities.map((c)=>{return {value: c}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.city}\n            onChange={(e) => this.setState({city: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({city: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>year</Label>\n          <input \n            autoComplete=\"off\" \n            size=\"4\" \n            maxLength=\"4\" \n            type=\"text\" \n            name=\"year\" \n            value={this.state.year} \n            onChange={this.handleInputChange} \n            onBlur={() => this.setState({year:this.fixYear(this.state.year)})} \n          />\n          <br/>\n          <Label>note</Label>\n          <textarea name=\"note\" value={this.state.note} onChange={this.handleInputChange}/>\n          <br/>\n          {this.state.changed && <Button onClick={this.handleSubmit}>save</Button>}\n          {this.state._id && <Button onClick={this.handleDelete}>delete entry</Button>}\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default EditPage;\n\nconst Container = styled.div`\n  padding: 4rem 1rem 2rem 1rem;\n`\n\nconst Label = styled.label`\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n`\n\nconst autocompleteInputStyle = {};\n\nconst Form = styled.form`\n  input, textarea {\n    display: block;\n    border:none;\n    width: 100%;\n    background-color: black;\n    color: white;\n    outline: none;\n    box-sizing: border-box;\n    padding: 0.5rem;\n  }\n\n  input {\n    font-size: 200%;\n    text-align: left;\n    height: 2em;\n    &[name=\"year\"] {\n      width: auto;\n    }\n  }\n\n  textarea {\n    height: 100px;\n    font-size: 150%;\n  }\n`\nconst Button = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n`","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport QrReader from 'react-qr-reader'\nvar QRCode = require('qrcode.react');\n\nclass ScanPage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        result: 'No result'\n    }\n\n    this.pollFilter = this.pollFilter.bind(this);\n\n  }\n\n  componentDidMount() {\n    this.pollInterval = setInterval(this.pollFilter, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.pollInterval);\n  }\n\n  pollFilter() {\n    axios.get(apiUrl + \"/filter?username=\" + this.props.mcmmId)\n    .then((response)=> {\n      console.log(response);\n      if(response.data && response.data.docs && response.data.docs.length) {\n        this.props.setUserFilter([this.props.mcmmId, response.data.docs]);  \n      }\n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  handleScan = data => {\n    if (data) {\n      this.setState({\n        result: data\n      })\n\n      this.props.setUserFilter([this.props.mcmmId, data]);\n\n      axios.post(apiUrl + \"/set_filter/\" + data + \"/\" + this.props.mcmmId)\n      .then((response)=> {\n        console.log(response);\n      })\n      .catch((e)=> {\n        console.log(e);\n      });\n    }\n  }\n  \n  handleError = err => {\n    console.error(err)\n  }\n\n  render() {\n                \n    return (\n      <div>\n        <h1>scanner</h1>\n\n        <div style={{padding: 50}}>\n          <QRCode value={this.props.mcmmId}/>\n        </div>\n\n\n        <QrReader\n          delay={300}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          style={{ width: '100%' }}\n        />\n        <p>{this.state.result}</p>\n\n      </div>\n    );\n  }\n}\n\nexport default ScanPage;\n","import React, { Component } from 'react';\nimport \"css-reset-and-normalize\";\nimport { createGlobalStyle } from \"styled-components\";\n\nimport Menu from './Menu.js';\nimport ListPage from './ListPage.js';\nimport HomePage from './HomePage.js';\nimport EditPage from './EditPage.js';\nimport ScanPage from './ScanPage.js';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass BaseContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      examples: [],\n      menuOpen: false,\n      currentPage: \"home\",\n      mcmmId: null,\n      navStack: [],\n      userFilter: [],\n      musicianFilter: null\n    }\n\n    this.setUserFilter = this.setUserFilter.bind(this);\n    this.setMusicianFilter = this.setMusicianFilter.bind(this);\n  }\n\n  setUserFilter(filter) {\n    this.setState({\n      userFilter: filter\n    }, ()=>{\n      this.navigate(\"home\");\n    });\n  }\n\n  setMusicianFilter(musician) {\n    this.setState({\n      musicianFilter: musician,\n      userFilter: []\n    })\n  }\n\n  componentDidMount() {\n    let hash = window.location.hash;\n    let mcmmId = localStorage.getItem('mcmmId');  \n    if(hash) {\n      mcmmId = hash.substr(1);\n      this.setState({\n        currentPage: \"list\",\n        mcmmId: mcmmId,\n        navStack: [\"home\"]\n      })\n    }\n    if(!mcmmId) {\n      mcmmId = uuidv1();\n    }\n    this.setState({mcmmId: mcmmId});  \n    localStorage.setItem('mcmmId', mcmmId);    \n  }\n\n  toggleMenu = ()=>{\n    this.setState({menuOpen: !this.state.menuOpen})\n  }\n\n  navigate = (page, entry, noSave=false)=>{\n    if(!noSave) {\n      let navStack = this.state.navStack;\n      navStack.push(this.state.currentPage);\n      console.log(navStack);\n      this.setState({navStack});\n    }\n    this.setState({\n      menuOpen: false,\n      currentPage: page,\n      currentEntry: entry\n    });\n    if(page != \"list\") {\n      window.history.pushState(\"\", document.title, window.location.pathname);\n    }\n  }\n\n  reset = () => {\n    this.setUserFilter([]);\n    this.navigate(\"home\");\n  }\n\n  back = () => {\n    if(this.state.currentPage == \"scan\") {\n      this.navigate(\"home\");\n      return;\n    }\n\n    let navStack = this.state.navStack;\n    let previousPage = navStack.pop();\n    this.setState({navStack});\n    this.navigate(previousPage, this.state.entry, true);\n  }\n\n  render() {\n    const showFilterBar = (this.state.userFilter.length > 0 || this.state.musicianFilter)\n\n    const pages = {\n      \"home\": <HomePage mcmmId={this.state.mcmmId} \n        userFilter={this.state.userFilter} \n        setUserFilter={this.setUserFilter}\n        musicianFilter={this.state.musicianFilter}\n        setMusicianFilter={this.setMusicianFilter}\n        />,\n      \"list\": <ListPage mcmmId={this.state.mcmmId} editEntry={(entry)=>{this.navigate(\"edit\", entry)}}/>,\n      \"edit\": <EditPage mcmmId={this.state.mcmmId} back={this.back} entry={this.state.currentEntry}/>,\n      \"scan\": <ScanPage mcmmId={this.state.mcmmId} setUserFilter={this.setUserFilter}/>\n    }\n    let mainContent = pages[this.state.currentPage];\n    \n    return (\n      [\n        <GlobalStyles key=\"globalstyles\" />,\n        this.state.menuOpen ?\n        <Menu key=\"main\" close={this.toggleMenu} navigate={this.navigate}/> \n        : \n          <MainContent key=\"main\">\n            {!(this.state.userFilter.length > 0 || this.state.musicianFilter) && <MenuButton onClick={this.toggleMenu} src=\"images/menu.png\"/>}\n            {mainContent}\n            {(this.state.currentPage === \"home\" && !showFilterBar || this.state.currentPage == \"list\") && \n              <AddButton onClick={()=>this.navigate(\"edit\")}>\n                +\n              </AddButton>\n            }\n            {this.state.currentPage !== \"home\" && \n              <ExitButton src=\"/images/close.png\" onClick={this.back}/>\n            }\n          </MainContent>\n      ]\n    );\n  }\n}\n\nexport default BaseContainer;\n\nconst MenuButton = styled.img`\n  position: fixed;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  &:hover {cursor: pointer}; \n`\n\nconst MainContent = styled.div`\n  height: 100%;\n  width: 100%;\n<<<<<<< HEAD\n  background: #fff;\n=======\n>>>>>>> 243f5202a1cc7f781d990eab874d668d0cf67764\n`\n\nconst AddButton = styled.div`\n  position: fixed;\n  z-index: 100;\n  right: 1rem;\n  bottom: 2rem;\n  width: 2.5rem;\n  height: 2.5rem;\n  font-size: 2rem;\n  line-height: 1.1rem;\n  text-align: center;\n  border: 2px solid black;\n  border-radius: 50%;\n  background-color: white;\n  padding: 10px;\n  &:hover {cursor: pointer}; \n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n`\nconst GlobalStyles = createGlobalStyle`\n\n  @font-face {\n    font-family: NeutraText;\n    src:  url('/fonts/NeutraText-Bold.otf');\n    /*[unicode-range: <urange>#;]?\n    [font-variant: <font-variant>;]?\n    [font-feature-settings: normal|<feature-tag-value>#;]?\n    [font-stretch: <font-stretch>;]?\n    [font-weight: <weight>];\n    [font-style: <style>];*/\n  }\n\n  html, body, #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  body {\n    font-family: NeutraText, sans-serif;\n  }\n`","import React from 'react';\nimport BaseContainer from './components/BaseContainer.js'\n\nconst App = () => <BaseContainer/>\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}