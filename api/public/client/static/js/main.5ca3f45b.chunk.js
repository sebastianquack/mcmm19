(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,n){e.exports=n(92)},53:function(e,t,n){},77:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},92:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(15),o=n.n(i),s=(n(53),n(2)),l=n(4),c=n(5),u=n(7),m=n(6),p=n(10),h=n(8),f=(n(54),n(1));function d(){var e=Object(s.a)(["\n  padding: 4rem 1rem 1rem 2rem;\n"]);return d=function(){return e},e}function y(){var e=Object(s.a)(["\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n"]);return y=function(){return e},e}function g(){var e=Object(s.a)(["\n  margin-bottom: 10px;\n  &:hover {cursor: pointer};\n"]);return g=function(){return e},e}n(24);var b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(O,null,a.a.createElement(v,{onClick:this.props.reset},"home"),a.a.createElement(v,{onClick:function(){return e.props.navigate("list")}},"my entries"),a.a.createElement(v,{onClick:function(){return e.props.navigate("scan")}},"scanner"),a.a.createElement(k,{src:"/images/close.png",onClick:this.props.close}))}}]),t}(r.Component),v=f.b.li(g()),k=f.b.img(y()),O=f.b.ul(d()),x=n(13),w=n.n(x),j=n(17),E=n(9),F=n.n(E),T="/api";function C(){var e=Object(s.a)(["\n  width: 100%; \n  height: 100%;\n  visibility: ","\n"]);return C=function(){return e},e}var I=n(77),S=window.google,_=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).mapContainerRef=a.a.createRef(),n.markers=[],n.lines=[],n.infoWindows=[],n.state={entries:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n.drawMap=n.drawMap.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchData",value:function(){var e=this,t={};this.props.musicianFilter&&(t.musician=this.props.musicianFilter),this.props.userFilter&&this.props.userFilter.length>0&&(t.userIds=JSON.stringify(this.props.userFilter)),F.a.get(T+"/map_entries/",{params:t}).then(function(t){console.log(t),e.setState({entries:t.data},e.drawMap)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchData(),this.map=new S.maps.Map(this.mapContainerRef.current,{zoom:1,center:{lat:0,lng:0},streetViewControl:!1,fullscreenControl:!1,mapTypeControl:!1,zoomControl:!1,styles:I})}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter===e.musicianFilter&&this.props.userFilter===e.userFilter||(this.markers.forEach(function(e){e.setMap(null)}),this.markers=[],this.entries=[],this.fetchData())}},{key:"drawMap",value:function(){var e=this,t={url:"/images/marker.svg",scaledSize:{height:30,width:30},origin:{x:0,y:0},anchor:{x:12.5,y:12.5},labelOrigin:new S.maps.Point(12.5,12.5)},n=new window.google.maps.LatLngBounds;Object.keys(this.state.entries).forEach(function(r){var a=e.state.entries[r][0],i=new S.maps.Marker({position:a.cityLocation,icon:t,map:e.map}),o=a.city+"<br>";e.state.entries[r].forEach(function(e){o+=e.musician+" "+e.year+"<br>"});var s=new S.maps.InfoWindow({content:o});i.addListener("click",function(){s.open(this.map,i)}),e.markers.push(i),e.infoWindows.push(s),n.extend(a.cityLocation)}),this.lines.forEach(function(t){return t.setMap(e.map)}),this.map.fitBounds(n);var r=this.map.getZoom();this.map.setZoom(r<2?2:r)}},{key:"render",value:function(){return a.a.createElement(D,{ref:this.mapContainerRef})}}]),t}(r.Component),D=f.b.div(C(),function(e){return 0!=e.visible?"visible":"hidden"});function M(){var e=Object(s.a)(["\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n"]);return M=function(){return e},e}function z(){var e=Object(s.a)(["\n  list-style: none;\n  margin-left: 0px;\n"]);return z=function(){return e},e}function U(){var e=Object(s.a)(["\n  padding-left: 0px;\n"]);return U=function(){return e},e}function L(){var e=Object(s.a)(["\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n"]);return L=function(){return e},e}function P(){var e=Object(s.a)(["\n  padding: 4rem 1rem 2rem 1rem;\n"]);return P=function(){return e},e}var N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={entries:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(j.a)(w.a.mark(function e(){var t=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.hash=this.props.mcmmId,F.a.get(T+"/entry_by_user/"+this.props.mcmmId+"/").then(function(e){t.setState({entries:e.data.docs})}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.entries.map(function(t,n){return a.a.createElement(A,{key:n},t.musician," ",t.city," ",t.year," ",a.a.createElement(B,{onClick:function(){e.props.editEntry(t)}},"[edit]"))});return a.a.createElement(R,null,a.a.createElement("h1",null,"my entries"),a.a.createElement(W,null,t),a.a.createElement("p",null,"This is your secret edit link: ",a.a.createElement("a",{href:"#"+this.props.mcmmId},"#"+this.props.mcmmId)),a.a.createElement("p",null,"Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries."))}}]),t}(r.Component),R=f.b.div(P()),B=f.b.span(L()),W=f.b.ul(U()),A=f.b.li(z()),Y=(f.b.span(M()),n(44)),J=n(22);function V(){var e=Object(s.a)(['\n  position: fixed;\n  bottom:0;\n  left:0;\n  right: 0;\n  padding: 1rem;\n  box-sizing: border-box;\n\n  display: flex;\n  width: 100%;\n\n  li {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    height: 6em;\n  }\n\n  li .year_top {\n    height: 3vh;\n    /* background: red; */\n  }\n\n  li .year_top img {\n    width: auto;\n    height: 1vh;\n    /* background: yellow; */\n  }\n\n  li .year_middle {\n    height: 3vh;\n  }\n\n  li .year_middle:before {\n    content: "";\n    border: solid 1px black;\n    border-width: 0 0 0 1px;\n    position: relative;\n    left: calc(50% - 1px);\n  }\n\n  li .year_bottom {\n    height: 3vh;\n    /* background: green; */\n  }\n\n  li .year_bottom span {\n    width: calc(1em + 20%);\n    transform: rotate(-90deg) translateX(-100%);\n    overflow: visible;\n    /* background: red; */\n  }\n\n  li > * {\n    position: relative;\n  }\n\n  li > * > * {\n    position: absolute;\n  }\n']);return V=function(){return e},e}var G=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={data:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchData",value:function(){var e=this;F.a.get(T+"/year_data/"+(this.props.musicianFilter?"?musician="+this.props.musicianFilter:"")).then(function(t){console.log("yearly data loaded"),e.setState({data:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter!==e.musicianFilter&&this.fetchData()}},{key:"renderYear",value:function(e,t){return a.a.createElement("li",{key:e},a.a.createElement("span",{className:"year_top"},t>0?a.a.createElement("img",{style:{transform:"scale("+t+")"},alt:e,src:"/images/marker.svg"}):null),a.a.createElement("span",{className:"year_middle"}),a.a.createElement("span",{className:"year_bottom"},a.a.createElement("span",null,t>0?e:null)))}},{key:"render",value:function(){var e=this,t=this.state.data;if(!t||0===t.length)return null;t.unshift.apply(t,Object(J.a)(Array.from(Array(4),function(e,n){return{year:n+(t[0].year-4),amount:0}})));t.push.apply(t,Object(J.a)(Array.from(Array(1),function(e,n){return{year:n+(t[t.length-1].year+1),amount:0}})));var n=t[0].year,r=t.map(function(t){return e.renderYear(t.year,t.amount)});return a.a.createElement(H,{start:n},r)}}]),t}(r.PureComponent),H=f.b.ol(V());function Z(){var e=Object(s.a)(["\n  &:hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n"]);return Z=function(){return e},e}function q(){var e=Object(s.a)(["\n  position: fixed;\n  right: 0;\n  top: ",";\n  width: 33vw;\n  padding: 1rem 1rem 0 0;\n  box-sizing: border-box;\n\n  ul {\n    list-style-type: none;\n  } ;\n  li {\n    display: flex;\n    span:first-child {\n      width: 2em;\n    }\n    span:last-child {\n      flex: 1;\n      &:hover {\n        cursor: pointer;\n        text-decoration: underline;\n      }\n    }\n  }\n"]);return q=function(){return e},e}var X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={musicians:[]},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;F.a.get(T+"/top_musicians/10/"+(this.props.musicianFilter?"?musician="+this.props.musicianFilter:"")).then(function(t){console.log(t.data),e.setState({musicians:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e){this.props.musicianFilter!==e.musicianFilter&&this.fetchData()}},{key:"render",value:function(){var e=this,t=this.state.musicians.sort(function(e,t){return e.percent<t.percent?1:-1}).map(function(t,n){return a.a.createElement("li",{key:n,onClick:function(){return e.props.setMusicianFilter(t.name)}},a.a.createElement("span",null,t.percent,"%"),"\xa0",a.a.createElement("span",null,t.name,"\xa0(",t.count,")"))});return a.a.createElement($,{filterOn:this.props.filterOn},a.a.createElement("ul",null,t))}}]),t}(r.Component),$=f.b.div(q(),function(e){return e.filterOn?"60px":"0"});f.b.span(Z());function K(){var e=Object(s.a)(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  z-index: 100;\n  :hover {cursor: pointer};\n"]);return K=function(){return e},e}function Q(){var e=Object(s.a)(["\n  min-height: 60px;\n  padding: 20px;\n"]);return Q=function(){return e},e}function ee(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]);return ee=function(){return e},e}var te=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onResize=function(e,t){n.setState({showTopMusiciansList:e>600,showLineGraph:e>600})},n.state={musicianFilter:null,userFilter:[]},n.handleFilterClose=n.handleFilterClose.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleFilterClose",value:function(){console.log("handleFilterClose"),F.a.post(T+"/remove_filter/"+this.props.mcmmId).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.props.setUserFilter([]),this.props.setMusicianFilter(null)}},{key:"render",value:function(){var e=this.props.userFilter.length>0||this.props.musicianFilter;return a.a.createElement(ne,null,e&&a.a.createElement(re,null,this.props.userFilter.length>0&&a.a.createElement("span",null,"filter for ",this.props.userFilter.length," users"),this.props.musicianFilter&&a.a.createElement("span",null,"filter for users that named ",this.props.musicianFilter),a.a.createElement(ae,{src:"/images/close.png",onClick:this.handleFilterClose})),a.a.createElement(_,{userFilter:this.props.userFilter,musicianFilter:this.props.musicianFilter}),this.state.showTopMusiciansList&&a.a.createElement(X,{musicianFilter:this.props.musicianFilter,setMusicianFilter:this.props.setMusicianFilter,filterOn:e}),this.state.showLineGraph&&a.a.createElement(G,{musicianFilter:this.props.musicianFilter}),a.a.createElement(Y.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}))}}]),t}(r.Component),ne=f.b.div(ee()),re=f.b.div(Q()),ae=f.b.img(K()),ie=n(12),oe=n(21),se=n.n(oe);function le(){var e=Object(s.a)(["\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n"]);return le=function(){return e},e}function ce(){var e=Object(s.a)(['\n  input, textarea {\n    display: block;\n    border:none;\n    width: 100%;\n    background-color: black;\n    color: white;\n    outline: none;\n    box-sizing: border-box;\n    padding: 0.5rem;\n  }\n\n  input {\n    font-size: 200%;\n    text-align: left;\n    height: 2em;\n    &[name="year"] {\n      width: auto;\n    }\n  }\n\n  textarea {\n    height: 100px;\n    font-size: 150%;\n  }\n']);return ce=function(){return e},e}function ue(){var e=Object(s.a)(["\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n"]);return ue=function(){return e},e}function me(){var e=Object(s.a)(["\n  padding: 4rem 1rem 2rem 1rem;\n"]);return me=function(){return e},e}var pe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){console.log(n.state),n.state._id?F.a.put(T+"/entry/"+n.state._id,{musician:n.state.musician,city:n.state.city,year:parseInt(n.state.year),note:n.state.note,user_id:n.props.mcmmId}).then(function(e){console.log(e),n.setState({_id:e.data._id,changed:!1})}).catch(function(e){console.log(e)}):F.a.post(T+"/entry",{musician:n.state.musician,city:n.state.city,year:parseInt(n.state.year),note:n.state.note,user_id:n.props.mcmmId}).then(function(e){console.log(e),n.setState({_id:e.data._id,changed:!1})}).catch(function(e){console.log(e)})},n.handleDelete=function(){window.confirm("really?")&&F.a.delete(T+"/entry/"+n.state._id,{}).then(function(e){console.log(e),n.props.back()}).catch(function(e){console.log(e)})},n.handleInputChange=function(e){var t,r=e.target,a=r.name,i="year"!==a||"year"===a&&!isNaN(r.value)?r.value:n.state.year;n.setState((t={},Object(ie.a)(t,a,i),Object(ie.a)(t,"changed",!0),t))},n.fixYear=function(e){var t=(new Date).getFullYear(),n=t-80;return e<n&&(e=n),e>t&&(e=t),e},n.state={musician:n.props.entry?n.props.entry.musician:"",city:n.props.entry?n.props.entry.city:"",year:n.props.entry?n.props.entry.year:"",note:n.props.entry?n.props.entry.note:"",_id:n.props.entry?n.props.entry._id:null,musicians:[],cities:[],changed:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(j.a)(w.a.mark(function e(){var t=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(T+"/entry_uniques/").then(function(e){console.log(e),t.setState({musicians:e.data.musicians}),t.setState({cities:e.data.cities})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement(he,null,a.a.createElement("h1",null,this.state._id?"update entry":"new entry"),a.a.createElement(ye,null,a.a.createElement(fe,null,"musician/composer/band"),a.a.createElement(se.a,{items:this.state.musicians.map(function(e){return{value:e}}),getItemValue:function(e){return e.value},shouldItemRender:function(e,t){return e.value.toLowerCase().indexOf(t.toLowerCase())>-1},renderItem:function(e,t){return a.a.createElement("div",{key:e.value,style:{backgroundColor:t?"#eee":"transparent"}},e.value)},value:this.state.musician,onChange:function(t){return e.setState({musician:t.target.value,changed:!0})},onSelect:function(t){return e.setState({musician:t,changed:!0})},wrapperStyle:{display:"block"},inputProps:{style:de}}),a.a.createElement("br",null),a.a.createElement(fe,null,"city"),a.a.createElement(se.a,{items:this.state.cities.map(function(e){return{value:e}}),getItemValue:function(e){return e.value},shouldItemRender:function(e,t){return e.value.toLowerCase().indexOf(t.toLowerCase())>-1},renderItem:function(e,t){return a.a.createElement("div",{key:e.value,style:{backgroundColor:t?"#eee":"transparent"}},e.value)},value:this.state.city,onChange:function(t){return e.setState({city:t.target.value,changed:!0})},onSelect:function(t){return e.setState({city:t,changed:!0})},wrapperStyle:{display:"block"},inputProps:{style:de}}),a.a.createElement("br",null),a.a.createElement(fe,null,"year"),a.a.createElement("input",{autoComplete:"off",size:"4",maxLength:"4",type:"text",name:"year",value:this.state.year,onChange:this.handleInputChange,onBlur:function(){return e.setState({year:e.fixYear(e.state.year)})}}),a.a.createElement("br",null),a.a.createElement(fe,null,"note"),a.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.handleInputChange}),a.a.createElement("br",null),this.state.changed&&a.a.createElement(ge,{onClick:this.handleSubmit},"save"),this.state._id&&a.a.createElement(ge,{onClick:this.handleDelete},"delete entry")))}}]),t}(r.Component),he=f.b.div(me()),fe=f.b.label(ue()),de={},ye=f.b.form(ce()),ge=f.b.div(le()),be=n(42),ve=n.n(be),ke=n(85),Oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleScan=function(e){e&&(n.setState({result:e}),n.props.setUserFilter([n.props.mcmmId,e]),F.a.post(T+"/set_filter/"+e+"/"+n.props.mcmmId).then(function(e){console.log(e)}).catch(function(e){console.log(e)}))},n.handleError=function(e){console.error(e)},n.state={result:"No result"},n.pollFilter=n.pollFilter.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.pollInterval=setInterval(this.pollFilter,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.pollInterval)}},{key:"pollFilter",value:function(){var e=this;F.a.get(T+"/filter?username="+this.props.mcmmId).then(function(t){console.log(t),t.data&&t.data.docs&&t.data.docs.length&&e.props.setUserFilter([e.props.mcmmId,t.data.docs])}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"scanner"),a.a.createElement("div",{style:{padding:50}},a.a.createElement(ke,{value:this.props.mcmmId})),a.a.createElement(ve.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),a.a.createElement("p",null,this.state.result))}}]),t}(r.Component);function xe(){var e=Object(s.a)(["\n\n  @font-face {\n    font-family: NeutraText;\n    src:  url('/fonts/NeutraText-Bold.otf');\n    /*[unicode-range: <urange>#;]?\n    [font-variant: <font-variant>;]?\n    [font-feature-settings: normal|<feature-tag-value>#;]?\n    [font-stretch: <font-stretch>;]?\n    [font-weight: <weight>];\n    [font-style: <style>];*/\n  }\n\n  html, body, #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  body {\n    font-family: NeutraText, sans-serif;\n  }\n"]);return xe=function(){return e},e}function we(){var e=Object(s.a)(["\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n  width: 30px;\n  height: 30px;\n  &:hover {cursor: pointer};\n"]);return we=function(){return e},e}function je(){var e=Object(s.a)(["\n  position: fixed;\n  z-index: 100;\n  right: 1rem;\n  bottom: 2rem;\n  width: 2.5rem;\n  height: 2.5rem;\n  font-size: 2rem;\n  line-height: 1.1rem;\n  text-align: center;\n  border: 2px solid black;\n  border-radius: 50%;\n  background-color: white;\n  padding: 10px;\n  &:hover {cursor: pointer}; \n"]);return je=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  height: 100%;\n  width: 100%;\n<<<<<<< HEAD\n  background: #fff;\n=======\n>>>>>>> 243f5202a1cc7f781d990eab874d668d0cf67764\n"]);return Ee=function(){return e},e}function Fe(){var e=Object(s.a)(["\n  position: fixed;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  &:hover {cursor: pointer}; \n"]);return Fe=function(){return e},e}var Te=n(24),Ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleMenu=function(){n.setState({menuOpen:!n.state.menuOpen})},n.navigate=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){var r=n.state.navStack;r.push(n.state.currentPage),console.log(r),n.setState({navStack:r})}n.setState({menuOpen:!1,currentPage:e,currentEntry:t}),"list"!=e&&window.history.pushState("",document.title,window.location.pathname)},n.reset=function(){n.setUserFilter([]),n.navigate("home")},n.back=function(){if("scan"!=n.state.currentPage){var e=n.state.navStack,t=e.pop();n.setState({navStack:e}),n.navigate(t,n.state.entry,!0)}else n.navigate("home")},n.state={examples:[],menuOpen:!1,currentPage:"home",mcmmId:null,navStack:[],userFilter:[],musicianFilter:null},n.setUserFilter=n.setUserFilter.bind(Object(p.a)(n)),n.setMusicianFilter=n.setMusicianFilter.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setUserFilter",value:function(e){var t=this;this.setState({userFilter:e},function(){t.navigate("home")})}},{key:"setMusicianFilter",value:function(e){this.setState({musicianFilter:e,userFilter:[]})}},{key:"componentDidMount",value:function(){var e=window.location.hash,t=localStorage.getItem("mcmmId");e&&(t=e.substr(1),this.setState({currentPage:"list",mcmmId:t,navStack:["home"]})),t||(t=Te()),this.setState({mcmmId:t}),localStorage.setItem("mcmmId",t)}},{key:"render",value:function(){var e=this,t=this.state.userFilter.length>0||this.state.musicianFilter,n={home:a.a.createElement(te,{mcmmId:this.state.mcmmId,userFilter:this.state.userFilter,setUserFilter:this.setUserFilter,musicianFilter:this.state.musicianFilter,setMusicianFilter:this.setMusicianFilter}),list:a.a.createElement(N,{mcmmId:this.state.mcmmId,editEntry:function(t){e.navigate("edit",t)}}),edit:a.a.createElement(pe,{mcmmId:this.state.mcmmId,back:this.back,entry:this.state.currentEntry}),scan:a.a.createElement(Oe,{mcmmId:this.state.mcmmId,setUserFilter:this.setUserFilter})}[this.state.currentPage];return[a.a.createElement(Me,{key:"globalstyles"}),this.state.menuOpen?a.a.createElement(b,{key:"main",close:this.toggleMenu,navigate:this.navigate}):a.a.createElement(Se,{key:"main"},!(this.state.userFilter.length>0||this.state.musicianFilter)&&a.a.createElement(Ie,{onClick:this.toggleMenu,src:"images/menu.png"}),n,("home"===this.state.currentPage&&!t||"list"==this.state.currentPage)&&a.a.createElement(_e,{onClick:function(){return e.navigate("edit")}},"+"),"home"!==this.state.currentPage&&a.a.createElement(De,{src:"/images/close.png",onClick:this.back}))]}}]),t}(r.Component),Ie=f.b.img(Fe()),Se=f.b.div(Ee()),_e=f.b.div(je()),De=f.b.img(we()),Me=Object(f.a)(xe()),ze=function(){return a.a.createElement(Ce,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.5ca3f45b.chunk.js.map