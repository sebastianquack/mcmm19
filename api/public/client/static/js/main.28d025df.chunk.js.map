{"version":3,"sources":["components/Menu.js","helpers/index.js","components/MapPage.js","components/SimpleGraph.js","components/ListPage.js","components/HomePage.js","components/EditPage.js","components/BaseContainer.js","App.js","serviceWorker.js","index.js"],"names":["require","Menu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","react_default","a","createElement","MenuContainer","MenuButton","onClick","navigate","ExitButton","src","close","Component","styled","div","_templateObject","img","_templateObject2","_templateObject3","apiUrl","mapStyles","google","window","MapPage","mapContainerRef","React","createRef","map","maps","Map","current","zoom","center","lat","lng","streetViewControl","fullscreenControl","mapTypeControl","styles","prevPros","markers","entries","length","icon","url","scaledSize","height","width","origin","x","y","anchor","labelOrigin","Point","e","index","Marker","position","cityLocation","label","color","fontSize","text","user_emoji","latlngbounds","LatLngBounds","forEach","extend","fitBounds","slice","Polyline","path","strokeColor","strokeOpacity","strokeWeight","l","setMap","MapContainer","ref","MapPage_templateObject","visible","nodes","links","oldNodes","svg","node","link","ListPage","emoji","Math","floor","random","location","hash","mcmmId","axios","get","then","response","setState","data","docs","catch","console","log","_this3","i","ListItem","key","musician","city","year","EditLink","editEntry","List","href","components_MapPage","span","ListPage_templateObject","ul","ListPage_templateObject2","li","ListPage_templateObject3","_templateObject4","innerWidth","innerHeight","d3","scaleExtent","on","zoomed","force","gravity","distance","charge","size","attr","d","source","target","SimpleGraph","_rootNode","element","loadData","append","selectAll","n","enterLinks","enterNodes","applyStyling","start","callback","error","json","kv","_","each","maintainNodePositions","enter","drag","insert","style","translate","scale","percentColors","pct","r","g","b","getNodeColor","lower","upper","range","rangePct","pctLower","pctUpper","join","getColorForPercentage","popularity","getLinkColor","select","type","filter","targetId","id","popPercent","radius","name","sort","active","String","prototype","capitalize","replace","toUpperCase","HomePage","components_SimpleGraph","EditPage","handleSubmit","event","_id","put","parseInt","note","user_id","changed","post","handleDelete","confirm","delete","back","handleInputChange","_this$setState","value","isNaN","defineProperty","entry","musicians","cities","Label","Autocomplete_default","items","m","getItemValue","item","shouldItemRender","toLowerCase","indexOf","renderItem","highlighted","backgroundColor","onChange","onSelect","val","wrapperStyle","display","inputProps","autocompleteInputStyle","c","Input","autoComplete","Textarea","Button","EditPage_templateObject","boxSizing","input","EditPage_templateObject2","textarea","EditPage_templateObject3","EditPage_templateObject4","uuidv1","BaseContainer","toggleMenu","menuOpen","page","arguments","undefined","navStack","push","currentPage","currentEntry","history","pushState","document","title","pathname","previousPage","pop","examples","localStorage","getItem","substr","setItem","mainContent","home","components_HomePage","list","components_ListPage","edit","components_EditPage","components_Menu","MainContent","BaseContainer_MenuButton","AddButton","BaseContainer_ExitButton","BaseContainer_templateObject","BaseContainer_templateObject2","BaseContainer_templateObject3","BaseContainer_templateObject4","App","components_BaseContainer","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.28d025df.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <MenuContainer>\n        <MenuButton onClick={()=>this.props.navigate(\"home\")}>home</MenuButton>\n        <MenuButton onClick={()=>this.props.navigate(\"list\")}>my entries</MenuButton>\n        <ExitButton src=\"/images/close.png\"  onClick={this.props.close}/>\n      </MenuContainer>\n    );\n  }\n}\n\nexport default Menu;\n\nconst MenuButton = styled.div`\n  :hover {cursor: pointer};\n  margin-bottom: 10px;\n`\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n\nconst MenuContainer = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n","export const apiUrl = \"/api\"\n","import React, { Component } from 'react';\n\nimport styled from 'styled-components'\n\nconst mapStyles = require('./GoogleMapStyles.json')\nconst google = window.google;\n\nclass MapPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mapContainerRef = React.createRef();\n  } \n\n  componentDidMount() {\n    this.map = new google.maps.Map(this.mapContainerRef.current, {\n      zoom: 1,\n      center: {lat: 0, lng: 0},\n      streetViewControl: false, \n      fullscreenControl: false, \n      mapTypeControl: false,\n      styles: mapStyles // change default map styles\n    });\n  } \n\n  componentDidUpdate(prevPros) {\n    if(!this.markers && this.props.entries.length) {\n      const icon = {\n        url: \"/images/blank.png\", // url\n        scaledSize: {height: 0, width: 0}, // scaled size\n        origin: {x:0, y:0}, // origin\n        anchor: {x:12.5, y:12.5}, // anchor\n        labelOrigin: new google.maps.Point(12.5, 12.5)\n      };\n\n      this.markers = this.props.entries.map((e, index)=>\n        new google.maps.Marker({\n          position: e.cityLocation,\n          icon: icon,\n          label: {\n            color: \"#fff\",\n            fontSize: \"14px\",\n            text: this.props.user_emoji,\n          },\n          map: this.map,\n        })\n      );\n      \n      var latlngbounds = new window.google.maps.LatLngBounds();\n      this.props.entries.forEach(e=>{latlngbounds.extend(e.cityLocation)});\n      this.map.fitBounds(latlngbounds);\n      \n      const lines = this.props.entries.slice(0, -1).map((e, index)=>\n        new google.maps.Polyline({\n          path: [this.props.entries[index].cityLocation, this.props.entries[index+1].cityLocation],\n          //geodesic: true,\n          strokeColor: '#aaa',\n          strokeOpacity: 1.0,\n          strokeWeight: 1\n        })\n      );\n\n      lines.forEach(l=>l.setMap(this.map));\n    }\n  }\n\n  render() {\n    return (\n      <MapContainer ref={this.mapContainerRef} />\n    )\n  }\n}\n\nexport default MapPage;\n\nconst MapContainer = styled.div`\n  display: flex;\n  width: 100%; \n  height: 300px;\n  box-sizing: border-box;\n  flex-direction: column;\n  visibility: ${props => props.visible != false ? \"visible\" : \"hidden\"}\n`\n","import React, { Component } from 'react';\n\nimport { apiUrl } from '../helpers'\n\nimport _ from \"underscore\";\nimport * as d3 from 'd3'\n\n/* build the network */\n\nvar width = window.innerWidth || 0,\n      height = window.innerHeight || 0;\n\nvar zoom = d3.behavior.zoom().scaleExtent([-5, 12]).on(\"zoom\", zoomed);\n\nvar nodes, links, oldNodes, matchIndex, // data\n  svg, node, link, // d3 selections\n  force = d3.layout.force()\n  .gravity(0.05)\n  .distance(170)\n  .charge(-100)\n  .size([width, height]); \n\n\nforce.on(\"tick\", function(e) {\n  link.attr(\"x1\", function(d) { return d.source.x; })\n      .attr(\"y1\", function(d) { return d.source.y; })\n      .attr(\"x2\", function(d) { return d.target.x; })\n      .attr(\"y2\", function(d) { return d.target.y; });\n\n  node.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n});\n\nclass SimpleGraph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entries: []\n    }\n    this._rootNode = React.createRef();\n  }\n\n  componentDidMount() {\n\n    // D3 Code to create the chart\n    // using this._rootNode as container\n    renderGraph(this._rootNode.current);\n  }\n\n  shouldComponentUpdate() {\n        // Prevents component re-rendering\n        return false;\n    }\n\n  render() {\n    return <div ref={this._rootNode} />;\n  }\n}\n\nexport default SimpleGraph;\n\n\nfunction loadData(callback) {\n  d3.json(apiUrl + \"/graph_data/\", function(error, json) {\n    if(error) {\n      console.log(error);\n    }\n    console.log(json);\n    if(!json) return;\n\n    oldNodes = nodes;\n    nodes = json.nodes;\n    links = json.links;\n    maintainNodePositions();\n    callback();\n  });\n}\n\nfunction renderGraph(element) {\n  loadData(()=>{\n    force.nodes(nodes).links(links);\n    svg = d3.select(element).append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n              .append(\"g\");\n    var l = svg.selectAll(\".link\")\n      .data(links, function(d) {return d.source + \",\" + d.target});\n    var n = svg.selectAll(\".node\")\n      .data(nodes, function(d) {return d.key});\n    enterLinks(l);\n    enterNodes(n);\n    node = svg.selectAll(\".node\"); \n    link = svg.selectAll(\".link\");\n    applyStyling();\n    force.start();\n  });\n}\n\nfunction update() {\n  loadData(()=>{\n    force.nodes(nodes).links(links);\n    var n = svg.selectAll(\".node\")\n      .data(nodes, function(d) {return d.key});\n    var l = svg.selectAll(\".link\")\n      .data(links, function(d) {return d.source + \",\" + d.target});\n    enterNodes(n);\n    exitNodes(n);\n    enterLinks(l);\n    exitLinks(l);\n    node = svg.selectAll(\".node\");\n    link = svg.selectAll(\".link\");\n    applyStyling();\n    force.start();\n  });\n}\n\nfunction enterNodes(n) {\n  var g = n.enter().append(\"g\")\n    .attr(\"class\", \"node element\")\n    .call(force.drag);\n\n  /*g.append(\"svg:circle\")\n      .style(\"opacity\", 0.5);*/\n\n  /*g.append(\"svg:image\")\n    .attr('x', -10)\n    .attr('y', -10)\n    .attr('width', 20)\n    .attr('height', 20)\n    .attr(\"xlink:href\", \"/images/dot.png\")*/\n\n  g.append(\"text\")\n      .attr(\"dx\", -5)\n      .attr(\"dy\", \".25em\");        \n}\n\nfunction enterLinks(l) {\n  l.enter().insert(\"line\", \".node\")\n    .attr(\"class\", \"link element\")\n    .style(\"opacity\", 1.0);\n}\n\nfunction exitNodes(n) {\n  n.exit().remove();\n}\n\nfunction exitLinks(l) {\n  l.exit().remove();\n}\n\nfunction maintainNodePositions() {\n  var kv = {};\n  _.each(oldNodes, function(d) {\n    kv[d.key] = d;\n  });\n  _.each(nodes, function(d) {\n    if (kv[d.key]) {\n      // if the node already exists, maintain current position\n      d.x = kv[d.key].x;\n      d.y = kv[d.key].y;\n    } else {\n      // else assign it a random position near the center\n      d.x = width / 2 + _.random(-150, 150);\n      d.y = height / 2 + _.random(-25, 25);\n    }\n  });\n}\n\n/* zoom and pan */\nfunction zoomed() {\n  svg.attr(\"transform\",\n      \"translate(\" + zoom.translate() + \")\" +\n      \"scale(\" + zoom.scale() + \")\"\n  );\n}\n\nfunction interpolateZoom (translate, scale) {\n  var self = this;\n  return d3.transition().duration(350).tween(\"zoom\", function () {\n      var iTranslate = d3.interpolate(zoom.translate(), translate),\n          iScale = d3.interpolate(zoom.scale(), scale);\n      return function (t) {\n          zoom\n              .scale(iScale(t))\n              .translate(iTranslate(t));\n          zoomed();\n      };\n  });\n}\n\nfunction zoomButton(dir) {\n    var direction = 1,\n        factor = 0.2,\n        target_zoom = 1,\n        center = [width / 2, height / 2],\n        extent = zoom.scaleExtent(),\n        translate = zoom.translate(),\n        translate0 = [],\n        l = [],\n        view = {x: translate[0], y: translate[1], k: zoom.scale()};\n\n    direction = (dir === 'in') ? 1 : -1;\n    target_zoom = zoom.scale() * (1 + factor * direction);\n\n    if (target_zoom < extent[0] || target_zoom > extent[1]) { return false; }\n\n    translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];      \n    view.k = target_zoom;\n    l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];\n    view.x += center[0] - l[0];\n    view.y += center[1] - l[1];\n\n    interpolateZoom([view.x, view.y], view.k);\n}\n\nfunction panButton(dir) {\n  var step = 50;\n  var xOffset = (dir == \"right\" ? -step : 0) + (dir == \"left\" ? step : 0);\n  var yOffset = (dir == \"up\" ? step : 0) + (dir == \"down\" ? -step : 0);  \n    \n  var center = [width / 2, height / 2],\n      translate = zoom.translate(),\n      translate0 = [],\n      l = [],\n      view = {x: translate[0], y: translate[1], k: zoom.scale()};\n\n  translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];\n  l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];\n  view.x += center[0] - l[0] + xOffset;\n  view.y += center[1] - l[1] + yOffset;\n\n  interpolateZoom([view.x, view.y], view.k);\n}\n\n/* color management */\nvar percentColors = [\n  { pct: 0.0, color: { r: 0x00, g: 0x86, b: 0xcb } },\n  { pct: 0.8, color: { r: 0xe7, g: 0x37, b: 0x2A } },\n  { pct: 1.0, color: { r: 0xff, g: 0xcc, b: 0x00 } } ];\n\nvar getColorForPercentage = function(pct) {\n    if(pct > 1) pct = 1;\n    for (var i = 1; i < percentColors.length - 1; i++) {\n        if (pct < percentColors[i].pct) {\n            break;\n        }\n    }\n    var lower = percentColors[i - 1];\n    var upper = percentColors[i];\n    var range = upper.pct - lower.pct;\n    var rangePct = (pct - lower.pct) / range;\n    var pctLower = 1 - rangePct;\n    var pctUpper = rangePct;\n    var color = {\n        r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\n        g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\n        b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\n    };\n    return 'rgb(' + [color.r, color.g, color.b].join(',') + ')';\n    // or output as hex if preferred\n}  \n\nvar getNodeColor = function(node) {\n  getColorForPercentage(node.popularity / 7.0);\n}\n\nvar getLinkColor = function(link) {\n  return \"#ccc\";\n}\n\nfunction applyStyling() {\n\n    link.style(\"stroke\", (d)=>{return getLinkColor(d)} )\n    .attr(\"stroke-width\", function(d) { return 1 })\n\n    node.select(\"circle\")\n      .attr(\"r\", function(d) {      \n         if(d.type == \"player\") return 7;\n\n         d.popularity = links.filter((l)=> {\n           return l.targetId == d.id\n         }).length;\n         var minRadius = 10;\n         var maxRadius = 20;\n         var popPercent = d.popularity / (0.01 * nodes.length);\n         if(popPercent > 1) popPercent = 1\n         var radius = popPercent * maxRadius;\n         if(radius < minRadius) radius = minRadius;\n         return radius;\n      })\n      .style(\"fill\", (d)=>{return getNodeColor(d)} );\n\n    node.select(\"text\")\n      .style(\"fill\", (d)=>{return getNodeColor(d)})\n      .text(function(d) { console.log(d.name); return d.name })\n      .style(\"font-size\", \"14px\");      \n\n    svg.selectAll(\".element\").sort(function (a, b) { // sort active everything down\n      if (a.active == b.active && a.type == b.type) return 0;\n      if (a.active == b.active && !a.type && b.type) return -1;\n      if (!a.active && b.active) return -1;       \n      else return 1;                              \n    });\n}\n\n/* text */\nString.prototype.capitalize = function() {\n  return this.replace(/(?:^|\\s)\\S/g, function(a) { return a.toUpperCase(); });\n};\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport MapPage from './MapPage.js';\n\nclass ListPage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        entries: []\n    }\n\n    const emoji = [\"🐶\", \"🐱\", \"🐭\", \"🐹\", \"🐰\", \"🦊\", \"🦝\"];\n    this.user_emoji = emoji[Math.floor(Math.random() * emoji.length)];\n\n  }\n\n  async componentDidMount() {\n    window.location.hash = this.props.mcmmId;\n\n    axios.get(apiUrl + \"/entry_by_user/\" + this.props.mcmmId + \"/\")\n    .then((response)=> {\n      this.setState({entries: response.data.docs})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  render() {\n\n                \n    const entries = this.state.entries.map((e, i)=>\n      <ListItem key={i}>\n        {this.user_emoji} {e.musician} {e.city} {e.year} <EditLink onClick={()=>{this.props.editEntry(e)}}>[edit]</EditLink>\n      </ListItem>);\n    return (\n      <div>\n        <h1>my entries</h1>\n        <List>{entries}</List>\n        <p>This is your secret edit link: <a href={\"#\"+this.props.mcmmId}>{\"#\"+this.props.mcmmId}</a></p>\n        <p>Bookmark it to manage your entries later or from other devices. If you lose it, you might lose access to your entries.</p>\n      \n        <MapPage entries={this.state.entries} user_emoji={this.user_emoji}/>\n      </div>\n    );\n  }\n}\n\nexport default ListPage;\n\nconst EditLink = styled.span`\n  color: orange;\n  margin-left: 5px;\n  :hover {cursor: pointer};\n`\n\nconst List = styled.ul`\n  padding-left: 0px;\n`\nconst ListItem = styled.li`\n  list-style: none;\n  margin-left: 0px;\n`\n\nconst Dot = styled.span`\n  display: inline-block;\n  background-image: url(/images/dot.png);\n  width: 20px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  line-height: 20px;\n`","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport styled from 'styled-components'\n\nimport SimpleGraph from './SimpleGraph.js';\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        entries: []\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>home page</h1>\n        <SimpleGraph/>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport { apiUrl } from '../helpers'\n\nimport ReactAutocomplete from 'react-autocomplete';\n\nimport styled from 'styled-components'\n\nclass EditPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musician: this.props.entry ? this.props.entry.musician : \"\",\n      city: this.props.entry ? this.props.entry.city : \"\",\n      year: this.props.entry ? this.props.entry.year : \"\",\n      note: this.props.entry ? this.props.entry.note : \"\",\n      _id: this.props.entry ? this.props.entry._id : null,\n      musicians: [],\n      cities: [],\n      changed: false\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(apiUrl + \"/entry_uniques/\")\n    .then((response)=> {\n      console.log(response);\n      this.setState({musicians: response.data.musicians})    \n      this.setState({cities: response.data.cities})    \n    })\n    .catch((e)=> {\n      console.log(e);\n    });\n  }\n\n  handleSubmit = (event)=> {\n    console.log(this.state);\n\n    if(!this.state._id) {\n      axios.post(apiUrl + '/entry', {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n    \n    } else {\n\n      axios.put(apiUrl + '/entry/' + this.state._id, {\n        musician: this.state.musician, \n        city: this.state.city,\n        year: parseInt(this.state.year),\n        note: this.state.note,\n        user_id: this.props.mcmmId\n      })\n      .then((response)=> {\n        console.log(response);\n        this.setState({_id: response.data._id, changed: false})\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n  }\n\n  handleDelete = () => {\n\n    if(window.confirm(\"really?\")) {\n        axios.delete(apiUrl + '/entry/' + this.state._id, {        \n      })\n      .then((response)=> {\n        console.log(response);\n        this.props.back();\n      })\n      .catch((error)=> {\n        console.log(error);\n      });\n\n    }\n\n  }\n\n  handleInputChange = (event)=> {\n    const target = event.target;\n    const name = target.name;\n    const value = name != \"year\" || (name == \"year\" && !isNaN(target.value)) ? target.value : this.state.year;\n\n    this.setState({\n      [name]: value,\n      changed: true\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>{this.state._id ? \"update entry\" : \"new entry\"}</h1>\n        <form>\n          <Label>musician/composer/band</Label> \n          \n          <ReactAutocomplete\n            items={this.state.musicians.map((m)=>{return {value: m}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.musician}\n            onChange={(e) => this.setState({musician: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({musician: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>city</Label> \n          \n          <ReactAutocomplete\n            items={this.state.cities.map((c)=>{return {value: c}})}\n            getItemValue={item => item.value}\n            shouldItemRender={(item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1}\n            renderItem={(item, highlighted) =>\n              <div\n                key={item.value}\n                style={{ backgroundColor: highlighted ? '#eee' : 'transparent'}}\n              >\n                {item.value}\n              </div>\n            }\n            value={this.state.city}\n            onChange={(e) => this.setState({city: e.target.value, changed: true})}\n            onSelect={(val) => this.setState({city: val, changed: true})}\n            wrapperStyle={{display: \"block\"}}\n            inputProps={{style: autocompleteInputStyle}}\n          />\n\n          <br/>\n          <Label>year</Label>\n          <Input autoComplete=\"off\" type=\"text\" name=\"year\" value={this.state.year} onChange={this.handleInputChange}/>\n          <br/>\n          <Label>note</Label>\n          <Textarea name=\"note\" value={this.state.note} onChange={this.handleInputChange}/>\n          <br/>\n          {this.state.changed && <Button onClick={this.handleSubmit}>save</Button>}\n          {this.state._id && <Button onClick={this.handleDelete}>delete entry</Button>}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EditPage;\n\nconst Label = styled.label`\n  display: inline-block;\n  width: 200px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n`\n\nconst autocompleteInputStyle = {width: \"100%\", height: \"2em\", fontSize: \"200%\", boxSizing: \"border-box\"};\n\nconst Input = styled.input`\n  font-size: 200%;\n  text-align: left;\n  width: 100%;\n  height: 2em;\n  box-sizing: border-box;\n`\n\nconst Textarea = styled.textarea`\n  width: 100%;\n  height: 100px;\n  padding: 10px;\n  font-size: 150%;\n  box-sizing: border-box;\n`\n\nconst Button = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  :hover {cursor: pointer};\n  text-align: center;\n`","import React, { Component } from 'react';\n\nimport Menu from './Menu.js';\nimport ListPage from './ListPage.js';\nimport HomePage from './HomePage.js';\nimport EditPage from './EditPage.js';\n\nimport styled from 'styled-components'\nconst uuidv1 = require('uuid/v1');\n\nclass BaseContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      examples: [],\n      menuOpen: false,\n      currentPage: \"home\",\n      mcmmId: null,\n      navStack: []\n    }\n  }\n\n  componentDidMount() {\n    let hash = window.location.hash;\n    let mcmmId = localStorage.getItem('mcmmId');  \n    console.log(mcmmId);\n    if(hash) {\n      mcmmId = hash.substr(1);\n      this.setState({\n        currentPage: \"list\",\n        mcmmId: mcmmId,\n        navStack: [\"home\"]\n      })\n    }\n    if(!mcmmId) {\n      mcmmId = uuidv1();\n    }\n    this.setState({mcmmId: mcmmId});  \n    localStorage.setItem('mcmmId', mcmmId);    \n  }\n\n  toggleMenu = ()=>{\n    this.setState({menuOpen: !this.state.menuOpen})\n  }\n\n  navigate = (page, entry, noSave=false)=>{\n    if(!noSave) {\n      let navStack = this.state.navStack;\n      navStack.push(this.state.currentPage);\n      console.log(navStack);\n      this.setState({navStack});\n    }\n    this.setState({\n      menuOpen: false,\n      currentPage: page,\n      currentEntry: entry\n    });\n    if(page != \"list\") {\n      window.history.pushState(\"\", document.title, window.location.pathname);\n    }\n  }\n\n  back = () => {\n    let navStack = this.state.navStack;\n    let previousPage = navStack.pop();\n    this.setState({navStack});\n    this.navigate(previousPage, this.state.entry, true);\n  }\n\n  render() {\n    const pages = {\n      \"home\": <HomePage/>,\n      \"list\": <ListPage mcmmId={this.state.mcmmId} editEntry={(entry)=>{this.navigate(\"edit\", entry)}}/>,\n      \"edit\": <EditPage mcmmId={this.state.mcmmId} back={this.back} entry={this.state.currentEntry}/>\n    }\n    let mainContent = pages[this.state.currentPage];\n    \n    return (\n      this.state.menuOpen ? <Menu close={this.toggleMenu} navigate={this.navigate}/> : \n      <MainContent>\n        <MenuButton onClick={this.toggleMenu} src=\"images/menu.png\"/>\n        {mainContent}\n        {(this.state.currentPage == \"home\" || this.state.currentPage == \"list\") && <AddButton onClick={()=>this.navigate(\"edit\")}>add</AddButton>}\n        {this.state.currentPage != \"home\" && <ExitButton src=\"/images/close.png\" onClick={this.back}/>}\n      </MainContent>\n    );\n  }\n}\n\nexport default BaseContainer;\n\nconst MenuButton = styled.img`\n  position: absolute;\n  z-index: 100;\n  width: 30px;\n  height: 30px;\n  left: 10px;\n  top: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst MainContent = styled.div`\n  margin-top: 20px;\n  padding: 20px;\n`\n\nconst AddButton = styled.div`\n  position: absolute;\n  z-index: 100;\n  right: 20px;\n  bottom: 20px;\n  border: 1px solid black;\n  background-color: white;\n  padding: 10px;\n  :hover {cursor: pointer}; \n`\n\nconst ExitButton = styled.img`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  :hover {cursor: pointer};\n`\n","import React from 'react';\nimport BaseContainer from './components/BaseContainer.js'\n\nconst App = () => <BaseContainer/>\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}